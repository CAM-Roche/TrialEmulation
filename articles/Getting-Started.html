<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting-Started â€¢ TrialEmulation</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting-Started">
<meta property="og:description" content="TrialEmulation">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TrialEmulation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.2.16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Getting-Started.html">Getting-Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting-Started</h1>
            
      
      
      <div class="hidden name"><code>Getting-Started.Rmd</code></div>

    </div>

    
    
<p>This package implements methods to analyse a sequence of target
trials.</p>
<p>The steps to do this are:</p>
<ol style="list-style-type: decimal">
<li>create the data set with all the required variables</li>
<li>fit models for censoring and calculate weights</li>
<li>expand the data set, with records for each eligible patient for each
trial period</li>
<li>fit models for outcomes</li>
</ol>
<p>Some of the functions are inspired by the <a href="https://causalab.sph.harvard.edu/software/" class="external-link">INITIATORS SAS
macro</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">TrialEmulation</span><span class="op">)</span></span></code></pre></div>
<p>There is an all-in-one function <code>initators()</code> which does
all of the steps with one function call.</p>
<p>To get started a longitudinal dataset must be created containing:</p>
<ul>
<li>time period</li>
<li>patient identifier</li>
<li>treatment indicator</li>
<li>outcome indicator</li>
<li>eligibility indicator for trial start in period</li>
<li>other covariates relating to treatment, outcome, or censoring to be
used in the models for weights or the outcome</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare the example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"trial_example"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarA</span><span class="op">)</span></span>
<span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarB</span><span class="op">)</span></span>
<span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial_example</span><span class="op">$</span><span class="va">catvarC</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">trial_example</span><span class="op">)</span></span>
<span><span class="co">#&gt;    id eligible period outcome treatment catvarA catvarB catvarC nvarA nvarB</span></span>
<span><span class="co">#&gt; 1 202        1    310       0         0       0       2       0     0    35</span></span>
<span><span class="co">#&gt; 2 202        1    311       0         1       0       2       1     0    42</span></span>
<span><span class="co">#&gt; 3 202        1    312       0         1       0       2       1     0    48</span></span>
<span><span class="co">#&gt; 4 202        1    313       0         1       0       2       1     0    43</span></span>
<span><span class="co">#&gt; 5 202        0    314       0         1       0       2       1     0    45</span></span>
<span><span class="co">#&gt; 6 202        0    315       0         1       0       2       1     0    48</span></span>
<span><span class="co">#&gt;   nvarC</span></span>
<span><span class="co">#&gt; 1    74</span></span>
<span><span class="co">#&gt; 2    74</span></span>
<span><span class="co">#&gt; 3    74</span></span>
<span><span class="co">#&gt; 4    75</span></span>
<span><span class="co">#&gt; 5    75</span></span>
<span><span class="co">#&gt; 6    75</span></span></code></pre></div>
<p>Call the <code><a href="../reference/initiators.html">initiators()</a></code> function to run the complete
analysis:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initiators.html">initiators</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">trial_example</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>  period <span class="op">=</span> <span class="st">"period"</span>,</span>
<span>  eligible <span class="op">=</span> <span class="st">"eligible"</span>,</span>
<span>  treatment <span class="op">=</span> <span class="st">"treatment"</span>,</span>
<span>  outcome <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  model_var <span class="op">=</span> <span class="st">"assigned_treatment"</span>,</span>
<span>  outcome_cov <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catvarA"</span>, <span class="st">"catvarB"</span>, <span class="st">"catvarC"</span>, <span class="st">"nvarA"</span>, <span class="st">"nvarB"</span>, <span class="st">"nvarC"</span><span class="op">)</span>,</span>
<span>  use_censor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_weight <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Starting data manipulation</span></span>
<span><span class="co">#&gt; Finished data manipulation</span></span>
<span><span class="co">#&gt; Processing time of data manipulation: 0.7 s</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Starting data extension</span></span>
<span><span class="co">#&gt; Finish data extension</span></span>
<span><span class="co">#&gt; Processing time of data extension: 5.9 s</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Summary of extended data:</span></span>
<span><span class="co">#&gt; Number of observations: 1939053</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Preparing for model fitting</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Fitting outcome model</span></span>
<span><span class="co">#&gt; Processing time of fitting outcome model: 24.994 s</span></span>
<span><span class="co">#&gt; summary(model)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data, weights = data[["weight"]])</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -0.4504  -0.1069  -0.0879  -0.0680   3.9427  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                      Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)        -3.096e+00  1.457e-01 -21.248  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; assigned_treatment -2.727e-01  4.654e-02  -5.859 4.66e-09 ***</span></span>
<span><span class="co">#&gt; for_period          1.212e-03  6.256e-04   1.937 0.052717 .  </span></span>
<span><span class="co">#&gt; I(for_period^2)     2.063e-06  1.510e-06   1.366 0.171963    </span></span>
<span><span class="co">#&gt; followup_time       2.863e-03  5.204e-04   5.502 3.76e-08 ***</span></span>
<span><span class="co">#&gt; I(followup_time^2) -6.857e-06  2.265e-06  -3.027 0.002469 ** </span></span>
<span><span class="co">#&gt; catvarA1            2.955e-01  2.813e-02  10.505  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarA2            1.385e-01  3.891e-02   3.559 0.000373 ***</span></span>
<span><span class="co">#&gt; catvarA3           -1.104e+01  3.486e+01  -0.317 0.751579    </span></span>
<span><span class="co">#&gt; catvarA7            4.390e-01  3.927e-02  11.180  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarB1           -3.942e-01  1.117e-01  -3.530 0.000416 ***</span></span>
<span><span class="co">#&gt; catvarB2           -4.172e-01  1.155e-01  -3.612 0.000303 ***</span></span>
<span><span class="co">#&gt; catvarB3           -2.417e+00  3.354e-01  -7.206 5.74e-13 ***</span></span>
<span><span class="co">#&gt; catvarB7           -6.952e-01  1.125e-01  -6.181 6.39e-10 ***</span></span>
<span><span class="co">#&gt; catvarC1           -4.905e-02  3.464e-02  -1.416 0.156719    </span></span>
<span><span class="co">#&gt; catvarC2           -6.715e-02  3.558e-02  -1.887 0.059151 .  </span></span>
<span><span class="co">#&gt; catvarC7           -1.186e-01  3.581e-02  -3.312 0.000925 ***</span></span>
<span><span class="co">#&gt; nvarA              -8.404e-02  7.732e-03 -10.870  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; nvarB               5.212e-03  3.199e-04  16.293  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; nvarC              -4.232e-02  8.853e-04 -47.808  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 111015  on 1939052  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 107637  on 1939033  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 107677</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 15</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Calculating robust variance</span></span>
<span><span class="co">#&gt; Processing time of calculating robust variance: 2.5 s</span></span>
<span><span class="co">#&gt; Summary with robust standard error:</span></span>
<span><span class="co">#&gt;                 names  estimate robust_se      2.5%     97.5%       z  p_value</span></span>
<span><span class="co">#&gt; 1         (Intercept) -3.10e+00  7.01e-01 -4.47e+00 -1.72e+00  -4.417 1.00e-05</span></span>
<span><span class="co">#&gt; 2  assigned_treatment -2.73e-01  3.09e-01 -8.78e-01  3.32e-01  -0.883 3.77e-01</span></span>
<span><span class="co">#&gt; 3          for_period  1.21e-03  4.02e-03 -6.67e-03  9.10e-03   0.301 7.63e-01</span></span>
<span><span class="co">#&gt; 4     I(for_period^2)  2.06e-06  9.40e-06 -1.64e-05  2.05e-05   0.219 8.26e-01</span></span>
<span><span class="co">#&gt; 5       followup_time  2.86e-03  3.40e-03 -3.80e-03  9.53e-03   0.842 4.00e-01</span></span>
<span><span class="co">#&gt; 6  I(followup_time^2) -6.86e-06  1.63e-05 -3.87e-05  2.50e-05  -0.422 6.73e-01</span></span>
<span><span class="co">#&gt; 7            catvarA1  2.96e-01  1.91e-01 -7.82e-02  6.69e-01   1.550 1.21e-01</span></span>
<span><span class="co">#&gt; 8            catvarA2  1.38e-01  2.81e-01 -4.13e-01  6.89e-01   0.493 6.22e-01</span></span>
<span><span class="co">#&gt; 9            catvarA3 -1.10e+01  9.47e-01 -1.29e+01 -9.18e+00 -11.658 0.00e+00</span></span>
<span><span class="co">#&gt; 10           catvarA7  4.39e-01  2.23e-01  2.21e-03  8.76e-01   1.970 4.88e-02</span></span>
<span><span class="co">#&gt; 11           catvarB1 -3.94e-01  3.01e-01 -9.83e-01  1.95e-01  -1.312 1.90e-01</span></span>
<span><span class="co">#&gt; 12           catvarB2 -4.17e-01  3.64e-01 -1.13e+00  2.96e-01  -1.147 2.51e-01</span></span>
<span><span class="co">#&gt; 13           catvarB3 -2.42e+00  9.26e-01 -4.23e+00 -6.02e-01  -2.610 9.04e-03</span></span>
<span><span class="co">#&gt; 14           catvarB7 -6.95e-01  3.06e-01 -1.29e+00 -9.62e-02  -2.275 2.29e-02</span></span>
<span><span class="co">#&gt; 15           catvarC1 -4.91e-02  1.55e-01 -3.53e-01  2.55e-01  -0.316 7.52e-01</span></span>
<span><span class="co">#&gt; 16           catvarC2 -6.71e-02  2.27e-01 -5.12e-01  3.78e-01  -0.296 7.67e-01</span></span>
<span><span class="co">#&gt; 17           catvarC7 -1.19e-01  1.74e-01 -4.59e-01  2.22e-01  -0.683 4.95e-01</span></span>
<span><span class="co">#&gt; 18              nvarA -8.40e-02  4.50e-02 -1.72e-01  4.22e-03  -1.866 6.20e-02</span></span>
<span><span class="co">#&gt; 19              nvarB  5.21e-03  2.24e-03  8.23e-04  9.60e-03   2.328 1.99e-02</span></span>
<span><span class="co">#&gt; 20              nvarC -4.23e-02  6.71e-03 -5.55e-02 -2.92e-02  -6.308 2.83e-10</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; Trial Emulation Outcome Model</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Outcome model formula:</span></span>
<span><span class="co">#&gt; outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficent summary (robust):</span></span>
<span><span class="co">#&gt;               names   estimate robust_se       2.5%      97.5%        z</span></span>
<span><span class="co">#&gt;         (Intercept) -3.096e+00 7.009e-01 -4.470e+00 -1.722e+00  -4.4172</span></span>
<span><span class="co">#&gt;  assigned_treatment -2.727e-01 3.088e-01 -8.779e-01  3.325e-01  -0.8832</span></span>
<span><span class="co">#&gt;          for_period  1.212e-03 4.023e-03 -6.673e-03  9.097e-03   0.3012</span></span>
<span><span class="co">#&gt;     I(for_period^2)  2.063e-06 9.398e-06 -1.636e-05  2.048e-05   0.2195</span></span>
<span><span class="co">#&gt;       followup_time  2.863e-03 3.400e-03 -3.800e-03  9.527e-03   0.8422</span></span>
<span><span class="co">#&gt;  I(followup_time^2) -6.857e-06 1.626e-05 -3.872e-05  2.501e-05  -0.4217</span></span>
<span><span class="co">#&gt;            catvarA1  2.955e-01 1.907e-01 -7.822e-02  6.693e-01   1.5498</span></span>
<span><span class="co">#&gt;            catvarA2  1.385e-01 2.811e-01 -4.125e-01  6.894e-01   0.4925</span></span>
<span><span class="co">#&gt;            catvarA3 -1.104e+01 9.466e-01 -1.289e+01 -9.180e+00 -11.6576</span></span>
<span><span class="co">#&gt;            catvarA7  4.390e-01 2.229e-01  2.213e-03  8.759e-01   1.9699</span></span>
<span><span class="co">#&gt;            catvarB1 -3.942e-01 3.005e-01 -9.832e-01  1.948e-01  -1.3117</span></span>
<span><span class="co">#&gt;            catvarB2 -4.172e-01 3.638e-01 -1.130e+00  2.958e-01  -1.1469</span></span>
<span><span class="co">#&gt;            catvarB3 -2.417e+00 9.259e-01 -4.232e+00 -6.022e-01  -2.6104</span></span>
<span><span class="co">#&gt;            catvarB7 -6.952e-01 3.056e-01 -1.294e+00 -9.624e-02  -2.2749</span></span>
<span><span class="co">#&gt;            catvarC1 -4.905e-02 1.550e-01 -3.529e-01  2.548e-01  -0.3164</span></span>
<span><span class="co">#&gt;            catvarC2 -6.715e-02 2.269e-01 -5.120e-01  3.777e-01  -0.2959</span></span>
<span><span class="co">#&gt;            catvarC7 -1.186e-01 1.737e-01 -4.592e-01  2.219e-01  -0.6827</span></span>
<span><span class="co">#&gt;               nvarA -8.404e-02 4.503e-02 -1.723e-01  4.216e-03  -1.8664</span></span>
<span><span class="co">#&gt;               nvarB  5.212e-03 2.239e-03  8.231e-04  9.600e-03   2.3276</span></span>
<span><span class="co">#&gt;               nvarC -4.232e-02 6.710e-03 -5.548e-02 -2.917e-02  -6.3079</span></span>
<span><span class="co">#&gt;    p_value</span></span>
<span><span class="co">#&gt;  9.997e-06</span></span>
<span><span class="co">#&gt;   0.377143</span></span>
<span><span class="co">#&gt;   0.763228</span></span>
<span><span class="co">#&gt;   0.826290</span></span>
<span><span class="co">#&gt;   0.399657</span></span>
<span><span class="co">#&gt;   0.673209</span></span>
<span><span class="co">#&gt;   0.121185</span></span>
<span><span class="co">#&gt;   0.622343</span></span>
<span><span class="co">#&gt;  &lt; 2.2e-16</span></span>
<span><span class="co">#&gt;   0.048846</span></span>
<span><span class="co">#&gt;   0.189633</span></span>
<span><span class="co">#&gt;   0.251418</span></span>
<span><span class="co">#&gt;   0.009045</span></span>
<span><span class="co">#&gt;   0.022912</span></span>
<span><span class="co">#&gt;   0.751717</span></span>
<span><span class="co">#&gt;   0.767325</span></span>
<span><span class="co">#&gt;   0.494790</span></span>
<span><span class="co">#&gt;   0.061991</span></span>
<span><span class="co">#&gt;   0.019933</span></span>
<span><span class="co">#&gt;  2.829e-10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; result$model contains the fitted glm model object.</span></span>
<span><span class="co">#&gt; result$robust$matrix contains the full robust covariance matrix.</span></span></code></pre></div>
<p>By default, this returns the final <code>glm</code> model object and
the results using the sandwich estimator.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data, weights = data[["weight"]])</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -0.4504  -0.1069  -0.0879  -0.0680   3.9427  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                      Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)        -3.096e+00  1.457e-01 -21.248  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; assigned_treatment -2.727e-01  4.654e-02  -5.859 4.66e-09 ***</span></span>
<span><span class="co">#&gt; for_period          1.212e-03  6.256e-04   1.937 0.052717 .  </span></span>
<span><span class="co">#&gt; I(for_period^2)     2.063e-06  1.510e-06   1.366 0.171963    </span></span>
<span><span class="co">#&gt; followup_time       2.863e-03  5.204e-04   5.502 3.76e-08 ***</span></span>
<span><span class="co">#&gt; I(followup_time^2) -6.857e-06  2.265e-06  -3.027 0.002469 ** </span></span>
<span><span class="co">#&gt; catvarA1            2.955e-01  2.813e-02  10.505  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarA2            1.385e-01  3.891e-02   3.559 0.000373 ***</span></span>
<span><span class="co">#&gt; catvarA3           -1.104e+01  3.486e+01  -0.317 0.751579    </span></span>
<span><span class="co">#&gt; catvarA7            4.390e-01  3.927e-02  11.180  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarB1           -3.942e-01  1.117e-01  -3.530 0.000416 ***</span></span>
<span><span class="co">#&gt; catvarB2           -4.172e-01  1.155e-01  -3.612 0.000303 ***</span></span>
<span><span class="co">#&gt; catvarB3           -2.417e+00  3.354e-01  -7.206 5.74e-13 ***</span></span>
<span><span class="co">#&gt; catvarB7           -6.952e-01  1.125e-01  -6.181 6.39e-10 ***</span></span>
<span><span class="co">#&gt; catvarC1           -4.905e-02  3.464e-02  -1.416 0.156719    </span></span>
<span><span class="co">#&gt; catvarC2           -6.715e-02  3.558e-02  -1.887 0.059151 .  </span></span>
<span><span class="co">#&gt; catvarC7           -1.186e-01  3.581e-02  -3.312 0.000925 ***</span></span>
<span><span class="co">#&gt; nvarA              -8.404e-02  7.732e-03 -10.870  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; nvarB               5.212e-03  3.199e-04  16.293  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; nvarC              -4.232e-02  8.853e-04 -47.808  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 111015  on 1939052  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 107637  on 1939033  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 107677</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 15</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span><span class="op">$</span><span class="va">robust</span><span class="op">$</span><span class="va">summary</span></span>
<span><span class="co">#&gt;                 names      estimate    robust_se          2.5%         97.5%</span></span>
<span><span class="co">#&gt; 1         (Intercept) -3.095941e+00 7.008783e-01 -4.469663e+00 -1.7222196577</span></span>
<span><span class="co">#&gt; 2  assigned_treatment -2.726885e-01 3.087599e-01 -8.778580e-01  0.3324809277</span></span>
<span><span class="co">#&gt; 3          for_period  1.211873e-03 4.022885e-03 -6.672980e-03  0.0090967269</span></span>
<span><span class="co">#&gt; 4     I(for_period^2)  2.062562e-06 9.398236e-06 -1.635798e-05  0.0000204831</span></span>
<span><span class="co">#&gt; 5       followup_time  2.863333e-03 3.399687e-03 -3.800054e-03  0.0095267207</span></span>
<span><span class="co">#&gt; 6  I(followup_time^2) -6.856680e-06 1.625774e-05 -3.872186e-05  0.0000250085</span></span>
<span><span class="co">#&gt; 7            catvarA1  2.955435e-01 1.906956e-01 -7.821982e-02  0.6693067444</span></span>
<span><span class="co">#&gt; 8            catvarA2  1.384565e-01 2.811112e-01 -4.125214e-01  0.6894343506</span></span>
<span><span class="co">#&gt; 9            catvarA3 -1.103529e+01 9.466173e-01 -1.289066e+01 -9.1799179745</span></span>
<span><span class="co">#&gt; 10           catvarA7  4.390456e-01 2.228737e-01  2.213249e-03  0.8758779928</span></span>
<span><span class="co">#&gt; 11           catvarB1 -3.941908e-01 3.005267e-01 -9.832230e-01  0.1948414891</span></span>
<span><span class="co">#&gt; 12           catvarB2 -4.172221e-01 3.637784e-01 -1.130228e+00  0.2957835109</span></span>
<span><span class="co">#&gt; 13           catvarB3 -2.416999e+00 9.259266e-01 -4.231815e+00 -0.6021830965</span></span>
<span><span class="co">#&gt; 14           catvarB7 -6.952432e-01 3.056160e-01 -1.294251e+00 -0.0962359411</span></span>
<span><span class="co">#&gt; 15           catvarC1 -4.905116e-02 1.550408e-01 -3.529311e-01  0.2548288197</span></span>
<span><span class="co">#&gt; 16           catvarC2 -6.714868e-02 2.269493e-01 -5.119693e-01  0.3776718938</span></span>
<span><span class="co">#&gt; 17           catvarC7 -1.186201e-01 1.737490e-01 -4.591682e-01  0.2219279198</span></span>
<span><span class="co">#&gt; 18              nvarA -8.403861e-02 4.502810e-02 -1.722937e-01  0.0042164664</span></span>
<span><span class="co">#&gt; 19              nvarB  5.211807e-03 2.239120e-03  8.231314e-04  0.0096004830</span></span>
<span><span class="co">#&gt; 20              nvarC -4.232413e-02 6.709734e-03 -5.547521e-02 -0.0291730526</span></span>
<span><span class="co">#&gt;              z      p_value</span></span>
<span><span class="co">#&gt; 1   -4.4172306 9.997357e-06</span></span>
<span><span class="co">#&gt; 2   -0.8831733 3.771426e-01</span></span>
<span><span class="co">#&gt; 3    0.3012449 7.632278e-01</span></span>
<span><span class="co">#&gt; 4    0.2194627 8.262896e-01</span></span>
<span><span class="co">#&gt; 5    0.8422343 3.996568e-01</span></span>
<span><span class="co">#&gt; 6   -0.4217486 6.732085e-01</span></span>
<span><span class="co">#&gt; 7    1.5498183 1.211851e-01</span></span>
<span><span class="co">#&gt; 8    0.4925328 6.223428e-01</span></span>
<span><span class="co">#&gt; 9  -11.6576025 0.000000e+00</span></span>
<span><span class="co">#&gt; 10   1.9699305 4.884634e-02</span></span>
<span><span class="co">#&gt; 11  -1.3116666 1.896327e-01</span></span>
<span><span class="co">#&gt; 12  -1.1469129 2.514176e-01</span></span>
<span><span class="co">#&gt; 13  -2.6103573 9.044771e-03</span></span>
<span><span class="co">#&gt; 14  -2.2748917 2.291243e-02</span></span>
<span><span class="co">#&gt; 15  -0.3163758 7.517173e-01</span></span>
<span><span class="co">#&gt; 16  -0.2958753 7.673253e-01</span></span>
<span><span class="co">#&gt; 17  -0.6827097 4.947903e-01</span></span>
<span><span class="co">#&gt; 18  -1.8663592 6.199112e-02</span></span>
<span><span class="co">#&gt; 19   2.3276138 1.993262e-02</span></span>
<span><span class="co">#&gt; 20  -6.3078703 2.829010e-10</span></span></code></pre></div>
<p>Also the sandwich variance-covariance matrix.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span><span class="op">$</span><span class="va">robust</span><span class="op">$</span><span class="va">matrix</span></span>
<span><span class="co">#&gt;                      (Intercept) assigned_treatment    for_period</span></span>
<span><span class="co">#&gt; (Intercept)         4.912304e-01       2.133315e-02 -1.650603e-03</span></span>
<span><span class="co">#&gt; assigned_treatment  2.133315e-02       9.533269e-02  2.539795e-05</span></span>
<span><span class="co">#&gt; for_period         -1.650603e-03       2.539795e-05  1.618360e-05</span></span>
<span><span class="co">#&gt; I(for_period^2)     2.468702e-06      -2.722270e-07 -3.480661e-08</span></span>
<span><span class="co">#&gt; followup_time      -2.523434e-04      -4.505072e-05 -2.541239e-06</span></span>
<span><span class="co">#&gt; I(followup_time^2) -6.288578e-07       1.671122e-07  1.550655e-08</span></span>
<span><span class="co">#&gt; catvarA1           -2.013034e-03       5.161456e-03 -7.013526e-05</span></span>
<span><span class="co">#&gt; catvarA2           -7.570664e-03       8.941632e-03  2.171781e-05</span></span>
<span><span class="co">#&gt; catvarA3           -8.469025e-03       6.606328e-03 -5.014633e-05</span></span>
<span><span class="co">#&gt; catvarA7           -3.472384e-02       1.226164e-03  2.512661e-04</span></span>
<span><span class="co">#&gt; catvarB1           -8.547994e-02      -1.972117e-02  9.388959e-06</span></span>
<span><span class="co">#&gt; catvarB2           -8.437550e-02      -2.390120e-02 -6.252821e-06</span></span>
<span><span class="co">#&gt; catvarB3           -1.375926e-01      -2.381122e-02  2.897509e-04</span></span>
<span><span class="co">#&gt; catvarB7           -1.148653e-01      -1.938666e-02 -2.514899e-05</span></span>
<span><span class="co">#&gt; catvarC1           -6.523263e-03      -4.683852e-03  4.567174e-05</span></span>
<span><span class="co">#&gt; catvarC2           -6.262368e-03      -9.892785e-03  7.273350e-05</span></span>
<span><span class="co">#&gt; catvarC7           -1.689865e-02      -3.798029e-03  7.566285e-05</span></span>
<span><span class="co">#&gt; nvarA              -2.503240e-03      -1.079340e-03  1.489676e-06</span></span>
<span><span class="co">#&gt; nvarB               1.005118e-04       6.956519e-05 -3.255951e-07</span></span>
<span><span class="co">#&gt; nvarC              -2.495442e-03       9.195632e-06  9.129373e-08</span></span>
<span><span class="co">#&gt;                    I(for_period^2) followup_time I(followup_time^2)</span></span>
<span><span class="co">#&gt; (Intercept)           2.468702e-06 -2.523434e-04      -6.288578e-07</span></span>
<span><span class="co">#&gt; assigned_treatment   -2.722270e-07 -4.505072e-05       1.671122e-07</span></span>
<span><span class="co">#&gt; for_period           -3.480661e-08 -2.541239e-06       1.550655e-08</span></span>
<span><span class="co">#&gt; I(for_period^2)       8.832683e-11  8.632859e-09      -3.931834e-11</span></span>
<span><span class="co">#&gt; followup_time         8.632859e-09  1.155787e-05      -4.974353e-08</span></span>
<span><span class="co">#&gt; I(followup_time^2)   -3.931834e-11 -4.974353e-08       2.643142e-10</span></span>
<span><span class="co">#&gt; catvarA1              1.804082e-07  1.086247e-05       5.598636e-08</span></span>
<span><span class="co">#&gt; catvarA2             -7.000255e-10  4.809334e-05      -1.386547e-07</span></span>
<span><span class="co">#&gt; catvarA3              1.666976e-07 -1.011492e-04       6.607913e-07</span></span>
<span><span class="co">#&gt; catvarA7             -4.360188e-07 -1.378281e-04       8.457448e-07</span></span>
<span><span class="co">#&gt; catvarB1              4.872985e-08  5.805240e-05      -5.166910e-08</span></span>
<span><span class="co">#&gt; catvarB2              8.283618e-08  8.478128e-05      -1.525158e-07</span></span>
<span><span class="co">#&gt; catvarB3             -3.242802e-07 -1.684465e-04       2.264275e-06</span></span>
<span><span class="co">#&gt; catvarB7              4.483527e-07  8.851323e-05      -1.468764e-07</span></span>
<span><span class="co">#&gt; catvarC1             -1.212295e-07 -2.286497e-05       1.103707e-07</span></span>
<span><span class="co">#&gt; catvarC2             -5.939292e-08  3.292384e-05      -8.230454e-08</span></span>
<span><span class="co">#&gt; catvarC7             -7.009011e-08  6.204624e-05      -3.236417e-07</span></span>
<span><span class="co">#&gt; nvarA                 1.052369e-08 -8.184344e-06      -1.869283e-08</span></span>
<span><span class="co">#&gt; nvarB                -1.580027e-09  4.140391e-07      -8.353782e-11</span></span>
<span><span class="co">#&gt; nvarC                -3.720597e-10 -9.626693e-07       9.457246e-09</span></span>
<span><span class="co">#&gt;                         catvarA1      catvarA2      catvarA3      catvarA7</span></span>
<span><span class="co">#&gt; (Intercept)        -2.013034e-03 -7.570664e-03 -8.469025e-03 -3.472384e-02</span></span>
<span><span class="co">#&gt; assigned_treatment  5.161456e-03  8.941632e-03  6.606328e-03  1.226164e-03</span></span>
<span><span class="co">#&gt; for_period         -7.013526e-05  2.171781e-05 -5.014633e-05  2.512661e-04</span></span>
<span><span class="co">#&gt; I(for_period^2)     1.804082e-07 -7.000255e-10  1.666976e-07 -4.360188e-07</span></span>
<span><span class="co">#&gt; followup_time       1.086247e-05  4.809334e-05 -1.011492e-04 -1.378281e-04</span></span>
<span><span class="co">#&gt; I(followup_time^2)  5.598636e-08 -1.386547e-07  6.607913e-07  8.457448e-07</span></span>
<span><span class="co">#&gt; catvarA1            3.636479e-02  2.249641e-02  1.651213e-02  1.245326e-02</span></span>
<span><span class="co">#&gt; catvarA2            2.249641e-02  7.902349e-02  2.095005e-02  1.944261e-02</span></span>
<span><span class="co">#&gt; catvarA3            1.651213e-02  2.095005e-02  8.960843e-01  1.833958e-02</span></span>
<span><span class="co">#&gt; catvarA7            1.245326e-02  1.944261e-02  1.833958e-02  4.967267e-02</span></span>
<span><span class="co">#&gt; catvarB1            5.320977e-03  9.018091e-04  1.763470e-03  2.930741e-03</span></span>
<span><span class="co">#&gt; catvarB2           -6.650647e-05  2.190905e-03  1.668221e-03  4.689679e-03</span></span>
<span><span class="co">#&gt; catvarB3            6.521070e-03  1.167658e-02 -8.807662e-04  1.168239e-02</span></span>
<span><span class="co">#&gt; catvarB7            4.495573e-03  1.681549e-03 -2.088988e-04  2.001096e-03</span></span>
<span><span class="co">#&gt; catvarC1           -6.825177e-04  3.186527e-03  3.343486e-03  3.578828e-03</span></span>
<span><span class="co">#&gt; catvarC2           -9.500613e-03 -6.254333e-03 -5.713215e-04  3.318299e-03</span></span>
<span><span class="co">#&gt; catvarC7            3.573940e-04 -2.964671e-03 -8.380267e-03 -7.032077e-03</span></span>
<span><span class="co">#&gt; nvarA              -3.254099e-04 -1.251915e-04 -1.507685e-04 -1.713090e-04</span></span>
<span><span class="co">#&gt; nvarB              -2.442309e-05 -2.783953e-05  2.156701e-06 -1.125329e-05</span></span>
<span><span class="co">#&gt; nvarC              -2.261187e-04 -3.049820e-04 -6.295492e-05 -1.564047e-04</span></span>
<span><span class="co">#&gt;                         catvarB1      catvarB2      catvarB3      catvarB7</span></span>
<span><span class="co">#&gt; (Intercept)        -8.547994e-02 -8.437550e-02 -1.375926e-01 -1.148653e-01</span></span>
<span><span class="co">#&gt; assigned_treatment -1.972117e-02 -2.390120e-02 -2.381122e-02 -1.938666e-02</span></span>
<span><span class="co">#&gt; for_period          9.388959e-06 -6.252821e-06  2.897509e-04 -2.514899e-05</span></span>
<span><span class="co">#&gt; I(for_period^2)     4.872985e-08  8.283618e-08 -3.242802e-07  4.483527e-07</span></span>
<span><span class="co">#&gt; followup_time       5.805240e-05  8.478128e-05 -1.684465e-04  8.851323e-05</span></span>
<span><span class="co">#&gt; I(followup_time^2) -5.166910e-08 -1.525158e-07  2.264275e-06 -1.468764e-07</span></span>
<span><span class="co">#&gt; catvarA1            5.320977e-03 -6.650647e-05  6.521070e-03  4.495573e-03</span></span>
<span><span class="co">#&gt; catvarA2            9.018091e-04  2.190905e-03  1.167658e-02  1.681549e-03</span></span>
<span><span class="co">#&gt; catvarA3            1.763470e-03  1.668221e-03 -8.807662e-04 -2.088988e-04</span></span>
<span><span class="co">#&gt; catvarA7            2.930741e-03  4.689679e-03  1.168239e-02  2.001096e-03</span></span>
<span><span class="co">#&gt; catvarB1            9.031628e-02  7.686244e-02  9.178450e-02  7.454077e-02</span></span>
<span><span class="co">#&gt; catvarB2            7.686244e-02  1.323347e-01  1.129121e-01  7.774672e-02</span></span>
<span><span class="co">#&gt; catvarB3            9.178450e-02  1.129121e-01  8.573401e-01  9.271548e-02</span></span>
<span><span class="co">#&gt; catvarB7            7.454077e-02  7.774672e-02  9.271548e-02  9.340112e-02</span></span>
<span><span class="co">#&gt; catvarC1            4.818020e-03  6.048891e-03 -7.836063e-03  1.002987e-03</span></span>
<span><span class="co">#&gt; catvarC2            5.757879e-03  1.346724e-02 -1.821655e-02  1.884142e-03</span></span>
<span><span class="co">#&gt; catvarC7           -7.941705e-04 -5.020673e-03  2.508128e-03 -6.010477e-03</span></span>
<span><span class="co">#&gt; nvarA               7.683505e-04  1.832538e-03 -4.460861e-04  1.489380e-03</span></span>
<span><span class="co">#&gt; nvarB              -1.569559e-04 -1.612435e-04 -1.832016e-04 -1.541642e-04</span></span>
<span><span class="co">#&gt; nvarC               1.148795e-04  6.315480e-05  9.700918e-05  2.906402e-04</span></span>
<span><span class="co">#&gt;                         catvarC1      catvarC2      catvarC7         nvarA</span></span>
<span><span class="co">#&gt; (Intercept)        -6.523263e-03 -6.262368e-03 -1.689865e-02 -2.503240e-03</span></span>
<span><span class="co">#&gt; assigned_treatment -4.683852e-03 -9.892785e-03 -3.798029e-03 -1.079340e-03</span></span>
<span><span class="co">#&gt; for_period          4.567174e-05  7.273350e-05  7.566285e-05  1.489676e-06</span></span>
<span><span class="co">#&gt; I(for_period^2)    -1.212295e-07 -5.939292e-08 -7.009011e-08  1.052369e-08</span></span>
<span><span class="co">#&gt; followup_time      -2.286497e-05  3.292384e-05  6.204624e-05 -8.184344e-06</span></span>
<span><span class="co">#&gt; I(followup_time^2)  1.103707e-07 -8.230454e-08 -3.236417e-07 -1.869283e-08</span></span>
<span><span class="co">#&gt; catvarA1           -6.825177e-04 -9.500613e-03  3.573940e-04 -3.254099e-04</span></span>
<span><span class="co">#&gt; catvarA2            3.186527e-03 -6.254333e-03 -2.964671e-03 -1.251915e-04</span></span>
<span><span class="co">#&gt; catvarA3            3.343486e-03 -5.713215e-04 -8.380267e-03 -1.507685e-04</span></span>
<span><span class="co">#&gt; catvarA7            3.578828e-03  3.318299e-03 -7.032077e-03 -1.713090e-04</span></span>
<span><span class="co">#&gt; catvarB1            4.818020e-03  5.757879e-03 -7.941705e-04  7.683505e-04</span></span>
<span><span class="co">#&gt; catvarB2            6.048891e-03  1.346724e-02 -5.020673e-03  1.832538e-03</span></span>
<span><span class="co">#&gt; catvarB3           -7.836063e-03 -1.821655e-02  2.508128e-03 -4.460861e-04</span></span>
<span><span class="co">#&gt; catvarB7            1.002987e-03  1.884142e-03 -6.010477e-03  1.489380e-03</span></span>
<span><span class="co">#&gt; catvarC1            2.403765e-02  1.214420e-02  3.486659e-03  3.184063e-05</span></span>
<span><span class="co">#&gt; catvarC2            1.214420e-02  5.150597e-02  6.864011e-03  7.365315e-04</span></span>
<span><span class="co">#&gt; catvarC7            3.486659e-03  6.864011e-03  3.018872e-02 -3.251291e-04</span></span>
<span><span class="co">#&gt; nvarA               3.184063e-05  7.365315e-04 -3.251291e-04  2.027530e-03</span></span>
<span><span class="co">#&gt; nvarB              -2.940393e-05 -4.669501e-05  3.112137e-05 -3.671632e-05</span></span>
<span><span class="co">#&gt; nvarC              -6.027867e-05 -2.521803e-04 -3.390272e-05  2.045828e-05</span></span>
<span><span class="co">#&gt;                            nvarB         nvarC</span></span>
<span><span class="co">#&gt; (Intercept)         1.005118e-04 -2.495442e-03</span></span>
<span><span class="co">#&gt; assigned_treatment  6.956519e-05  9.195632e-06</span></span>
<span><span class="co">#&gt; for_period         -3.255951e-07  9.129373e-08</span></span>
<span><span class="co">#&gt; I(for_period^2)    -1.580027e-09 -3.720597e-10</span></span>
<span><span class="co">#&gt; followup_time       4.140391e-07 -9.626693e-07</span></span>
<span><span class="co">#&gt; I(followup_time^2) -8.353782e-11  9.457246e-09</span></span>
<span><span class="co">#&gt; catvarA1           -2.442309e-05 -2.261187e-04</span></span>
<span><span class="co">#&gt; catvarA2           -2.783953e-05 -3.049820e-04</span></span>
<span><span class="co">#&gt; catvarA3            2.156701e-06 -6.295492e-05</span></span>
<span><span class="co">#&gt; catvarA7           -1.125329e-05 -1.564047e-04</span></span>
<span><span class="co">#&gt; catvarB1           -1.569559e-04  1.148795e-04</span></span>
<span><span class="co">#&gt; catvarB2           -1.612435e-04  6.315480e-05</span></span>
<span><span class="co">#&gt; catvarB3           -1.832016e-04  9.700918e-05</span></span>
<span><span class="co">#&gt; catvarB7           -1.541642e-04  2.906402e-04</span></span>
<span><span class="co">#&gt; catvarC1           -2.940393e-05 -6.027867e-05</span></span>
<span><span class="co">#&gt; catvarC2           -4.669501e-05 -2.521803e-04</span></span>
<span><span class="co">#&gt; catvarC7            3.112137e-05 -3.390272e-05</span></span>
<span><span class="co">#&gt; nvarA              -3.671632e-05  2.045828e-05</span></span>
<span><span class="co">#&gt; nvarB               5.013660e-06  9.631311e-07</span></span>
<span><span class="co">#&gt; nvarC               9.631311e-07  4.502053e-05</span></span></code></pre></div>
<div class="section level2">
<h2 id="flexible-analysis">Flexible Analysis<a class="anchor" aria-label="anchor" href="#flexible-analysis"></a>
</h2>
<p>To gain complete control over the analysis and to inspect the
intermediate objects, it can be useful to run the the data preparation
and modelling steps separately.</p>
<p>This also allows for processing of very large data sets, by doing the
data preparation in chunks and then sampling from the expanded trial
data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for the purposes of the vignette, we use a temporary directory, however it may be useful to use a permanent location</span></span>
<span><span class="co"># in order to inspect the outputs later</span></span>
<span><span class="va">working_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="st">"trial_emu"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">working_dir</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">working_dir</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prep_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data_preparation.html">data_preparation</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">trial_example</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>  period <span class="op">=</span> <span class="st">"period"</span>,</span>
<span>  eligible <span class="op">=</span> <span class="st">"eligible"</span>,</span>
<span>  treatment <span class="op">=</span> <span class="st">"treatment"</span>,</span>
<span>  outcome <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  model_var <span class="op">=</span> <span class="st">"assigned_treatment"</span>,</span>
<span>  outcome_cov <span class="op">=</span> <span class="op">~</span> <span class="va">catvarA</span> <span class="op">+</span> <span class="va">catvarB</span> <span class="op">+</span> <span class="va">catvarC</span> <span class="op">+</span> <span class="va">nvarA</span> <span class="op">+</span> <span class="va">nvarB</span> <span class="op">+</span> <span class="va">nvarC</span>,</span>
<span>  data_dir <span class="op">=</span> <span class="va">working_dir</span>,</span>
<span>  save_weight_models <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_censor <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_weight <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  separate_files <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  switch_n_cov <span class="op">=</span> <span class="op">~</span> <span class="va">nvarA</span> <span class="op">+</span> <span class="va">nvarB</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Starting data manipulation</span></span>
<span><span class="co">#&gt; Finished data manipulation</span></span>
<span><span class="co">#&gt; Processing time of data manipulation: 0.6 s</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; P(treatment = 1 | previous treatment = 0) for denominator</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = treatment ~ 1, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -0.2059  -0.2059  -0.2059  -0.2059   2.7801  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept) -3.84325    0.04785  -80.31   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 4329.7  on 21263  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 4329.7  on 21263  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 4331.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 6</span></span>
<span><span class="co">#&gt; P(treatment = 1 | previous treatment = 0) for numerator</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = treatment ~ nvarA + nvarB, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -0.2154  -0.2076  -0.2065  -0.2048   2.8246  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;               Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept) -3.8203716  0.0679254 -56.244   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; nvarA        0.0041081  0.0294330   0.140    0.889    </span></span>
<span><span class="co">#&gt; nvarB       -0.0006602  0.0012963  -0.509    0.611    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 4329.7  on 21263  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 4329.4  on 21261  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 4335.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 6</span></span>
<span><span class="co">#&gt; P(treatment = 1 | previous treatment = 1) for denominator</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = treatment ~ 1, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -2.9627   0.1581   0.1581   0.1581   0.1581  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)  4.37616    0.06815   64.21   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 2346.7  on 17555  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 2346.7  on 17555  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 2348.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">#&gt; P(treatment = 1 | previous treatment = 1) for numerator</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = treatment ~ nvarA + nvarB, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -3.3191   0.1455   0.1609   0.1711   0.1884  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)  4.022249   0.116756  34.450  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; nvarA       -0.002263   0.044029  -0.051  0.95901    </span></span>
<span><span class="co">#&gt; nvarB        0.007584   0.002306   3.289  0.00101 ** </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 2346.7  on 17555  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 2333.3  on 17553  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 2339.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">#&gt; Starting data extension</span></span>
<span><span class="co">#&gt; Finish data extension</span></span>
<span><span class="co">#&gt; Processing time of data extension: 4.4 s</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Summary of extended data:</span></span>
<span><span class="co">#&gt; Number of observations: 963883</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span></code></pre></div>
<p>Use <code>summary</code> to get an overview of the result.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prep_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Expanded Trial Emulation data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Expanded data saved in 396 csv files:</span></span>
<span><span class="co">#&gt;   1:   /tmp/Rtmp0tK7Yo/trial_emu/trial_1.csv</span></span>
<span><span class="co">#&gt;   2:   /tmp/Rtmp0tK7Yo/trial_emu/trial_2.csv</span></span>
<span><span class="co">#&gt;   3:   /tmp/Rtmp0tK7Yo/trial_emu/trial_3.csv</span></span>
<span><span class="co">#&gt;  ---                                        </span></span>
<span><span class="co">#&gt; 394: /tmp/Rtmp0tK7Yo/trial_emu/trial_394.csv</span></span>
<span><span class="co">#&gt; 395: /tmp/Rtmp0tK7Yo/trial_emu/trial_395.csv</span></span>
<span><span class="co">#&gt; 396: /tmp/Rtmp0tK7Yo/trial_emu/trial_396.csv</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of observations in expanded data: 963883 </span></span>
<span><span class="co">#&gt; First trial period: 1 </span></span>
<span><span class="co">#&gt; Last trial period: 396 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------ </span></span>
<span><span class="co">#&gt; Weight models</span></span>
<span><span class="co">#&gt; -------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatment switch models</span></span>
<span><span class="co">#&gt; -----------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; switch_models$switch_d0:</span></span>
<span><span class="co">#&gt;  P(treatment = 1 | previous treatment = 0) for denominator </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         term estimate std.error statistic p.value</span></span>
<span><span class="co">#&gt;  (Intercept)   -3.843   0.04785    -80.31       0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------ </span></span>
<span><span class="co">#&gt; switch_models$switch_n0:</span></span>
<span><span class="co">#&gt;  P(treatment = 1 | previous treatment = 0) for numerator </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         term   estimate std.error statistic p.value</span></span>
<span><span class="co">#&gt;  (Intercept) -3.8203716  0.067925  -56.2436  0.0000</span></span>
<span><span class="co">#&gt;        nvarA  0.0041081  0.029433    0.1396  0.8890</span></span>
<span><span class="co">#&gt;        nvarB -0.0006602  0.001296   -0.5093  0.6105</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------ </span></span>
<span><span class="co">#&gt; switch_models$switch_d1:</span></span>
<span><span class="co">#&gt;  P(treatment = 1 | previous treatment = 1) for denominator </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         term estimate std.error statistic p.value</span></span>
<span><span class="co">#&gt;  (Intercept)    4.376   0.06815     64.21       0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------ </span></span>
<span><span class="co">#&gt; switch_models$switch_n1:</span></span>
<span><span class="co">#&gt;  P(treatment = 1 | previous treatment = 1) for numerator </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         term  estimate std.error statistic    p.value</span></span>
<span><span class="co">#&gt;  (Intercept)  4.022249  0.116756  34.45003 4.499e-260</span></span>
<span><span class="co">#&gt;        nvarA -0.002263  0.044029  -0.05139  9.590e-01</span></span>
<span><span class="co">#&gt;        nvarB  0.007584  0.002306   3.28854  1.007e-03</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span></code></pre></div>
<p>For more information about the weighting models, we can inspect them
individually</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prep_data</span><span class="op">$</span><span class="va">switch_models</span><span class="op">$</span><span class="va">switch_n0</span></span>
<span><span class="co">#&gt; P(treatment = 1 | previous treatment = 0) for numerator </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         term   estimate std.error statistic p.value</span></span>
<span><span class="co">#&gt;  (Intercept) -3.8203716  0.067925  -56.2436  0.0000</span></span>
<span><span class="co">#&gt;        nvarA  0.0041081  0.029433    0.1396  0.8890</span></span>
<span><span class="co">#&gt;        nvarB -0.0006602  0.001296   -0.5093  0.6105</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  null.deviance df.null logLik  AIC  BIC deviance df.residual  nobs</span></span>
<span><span class="co">#&gt;           4330   21263  -2165 4335 4359     4329       21261 21264</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Object saved at "/tmp/Rtmp0tK7Yo/trial_emu/weight_model_switch_n0.rds"</span></span></code></pre></div>
<p>If <code>save_weight_models = TRUE,</code> the full model objects are
saved in <code>working_dir</code>, so you can inspect the data used in
those models and further investigate how well those models fit.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">working_dir</span>, <span class="st">"*.rds"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "weight_model_switch_d0.rds" "weight_model_switch_d1.rds"</span></span>
<span><span class="co">#&gt; [3] "weight_model_switch_n0.rds" "weight_model_switch_n1.rds"</span></span>
<span></span>
<span><span class="co"># The path is stored in the saved object</span></span>
<span><span class="va">switch_n0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="va">prep_data</span><span class="op">$</span><span class="va">switch_models</span><span class="op">$</span><span class="va">switch_n0</span><span class="op">$</span><span class="va">path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">switch_n0</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = treatment ~ nvarA + nvarB, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -0.2154  -0.2076  -0.2065  -0.2048   2.8246  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;               Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept) -3.8203716  0.0679254 -56.244   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; nvarA        0.0041081  0.0294330   0.140    0.889    </span></span>
<span><span class="co">#&gt; nvarB       -0.0006602  0.0012963  -0.509    0.611    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 4329.7  on 21263  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 4329.4  on 21261  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 4335.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">switch_n0</span><span class="op">$</span><span class="va">fitted.values</span>, main <span class="op">=</span> <span class="st">"Histogram of weights from model switch_n0"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Getting-Started_files/figure-html/weight_files-1.png" width="700"></p>
<p>We also see the expanded trial files:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prep_data</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt;   [1] "/tmp/Rtmp0tK7Yo/trial_emu/trial_1.csv"  </span></span>
<span><span class="co">#&gt;   [2] "/tmp/Rtmp0tK7Yo/trial_emu/trial_2.csv"  </span></span>
<span><span class="co">#&gt;   [3] "/tmp/Rtmp0tK7Yo/trial_emu/trial_3.csv"  </span></span>
<span><span class="co">#&gt;   [4] "/tmp/Rtmp0tK7Yo/trial_emu/trial_4.csv"  </span></span>
<span><span class="co">#&gt;   [5] "/tmp/Rtmp0tK7Yo/trial_emu/trial_5.csv"  </span></span>
<span><span class="co">#&gt;   [6] "/tmp/Rtmp0tK7Yo/trial_emu/trial_6.csv"  </span></span>
<span><span class="co">#&gt;   [7] "/tmp/Rtmp0tK7Yo/trial_emu/trial_7.csv"  </span></span>
<span><span class="co">#&gt;   [8] "/tmp/Rtmp0tK7Yo/trial_emu/trial_8.csv"  </span></span>
<span><span class="co">#&gt;   [9] "/tmp/Rtmp0tK7Yo/trial_emu/trial_9.csv"  </span></span>
<span><span class="co">#&gt;  [10] "/tmp/Rtmp0tK7Yo/trial_emu/trial_10.csv" </span></span>
<span><span class="co">#&gt;  [11] "/tmp/Rtmp0tK7Yo/trial_emu/trial_11.csv" </span></span>
<span><span class="co">#&gt;  [12] "/tmp/Rtmp0tK7Yo/trial_emu/trial_12.csv" </span></span>
<span><span class="co">#&gt;  [13] "/tmp/Rtmp0tK7Yo/trial_emu/trial_13.csv" </span></span>
<span><span class="co">#&gt;  [14] "/tmp/Rtmp0tK7Yo/trial_emu/trial_14.csv" </span></span>
<span><span class="co">#&gt;  [15] "/tmp/Rtmp0tK7Yo/trial_emu/trial_15.csv" </span></span>
<span><span class="co">#&gt;  [16] "/tmp/Rtmp0tK7Yo/trial_emu/trial_16.csv" </span></span>
<span><span class="co">#&gt;  [17] "/tmp/Rtmp0tK7Yo/trial_emu/trial_17.csv" </span></span>
<span><span class="co">#&gt;  [18] "/tmp/Rtmp0tK7Yo/trial_emu/trial_18.csv" </span></span>
<span><span class="co">#&gt;  [19] "/tmp/Rtmp0tK7Yo/trial_emu/trial_19.csv" </span></span>
<span><span class="co">#&gt;  [20] "/tmp/Rtmp0tK7Yo/trial_emu/trial_20.csv" </span></span>
<span><span class="co">#&gt;  [21] "/tmp/Rtmp0tK7Yo/trial_emu/trial_21.csv" </span></span>
<span><span class="co">#&gt;  [22] "/tmp/Rtmp0tK7Yo/trial_emu/trial_22.csv" </span></span>
<span><span class="co">#&gt;  [23] "/tmp/Rtmp0tK7Yo/trial_emu/trial_23.csv" </span></span>
<span><span class="co">#&gt;  [24] "/tmp/Rtmp0tK7Yo/trial_emu/trial_24.csv" </span></span>
<span><span class="co">#&gt;  [25] "/tmp/Rtmp0tK7Yo/trial_emu/trial_25.csv" </span></span>
<span><span class="co">#&gt;  [26] "/tmp/Rtmp0tK7Yo/trial_emu/trial_26.csv" </span></span>
<span><span class="co">#&gt;  [27] "/tmp/Rtmp0tK7Yo/trial_emu/trial_27.csv" </span></span>
<span><span class="co">#&gt;  [28] "/tmp/Rtmp0tK7Yo/trial_emu/trial_28.csv" </span></span>
<span><span class="co">#&gt;  [29] "/tmp/Rtmp0tK7Yo/trial_emu/trial_29.csv" </span></span>
<span><span class="co">#&gt;  [30] "/tmp/Rtmp0tK7Yo/trial_emu/trial_30.csv" </span></span>
<span><span class="co">#&gt;  [31] "/tmp/Rtmp0tK7Yo/trial_emu/trial_31.csv" </span></span>
<span><span class="co">#&gt;  [32] "/tmp/Rtmp0tK7Yo/trial_emu/trial_32.csv" </span></span>
<span><span class="co">#&gt;  [33] "/tmp/Rtmp0tK7Yo/trial_emu/trial_33.csv" </span></span>
<span><span class="co">#&gt;  [34] "/tmp/Rtmp0tK7Yo/trial_emu/trial_34.csv" </span></span>
<span><span class="co">#&gt;  [35] "/tmp/Rtmp0tK7Yo/trial_emu/trial_35.csv" </span></span>
<span><span class="co">#&gt;  [36] "/tmp/Rtmp0tK7Yo/trial_emu/trial_36.csv" </span></span>
<span><span class="co">#&gt;  [37] "/tmp/Rtmp0tK7Yo/trial_emu/trial_37.csv" </span></span>
<span><span class="co">#&gt;  [38] "/tmp/Rtmp0tK7Yo/trial_emu/trial_38.csv" </span></span>
<span><span class="co">#&gt;  [39] "/tmp/Rtmp0tK7Yo/trial_emu/trial_39.csv" </span></span>
<span><span class="co">#&gt;  [40] "/tmp/Rtmp0tK7Yo/trial_emu/trial_40.csv" </span></span>
<span><span class="co">#&gt;  [41] "/tmp/Rtmp0tK7Yo/trial_emu/trial_41.csv" </span></span>
<span><span class="co">#&gt;  [42] "/tmp/Rtmp0tK7Yo/trial_emu/trial_42.csv" </span></span>
<span><span class="co">#&gt;  [43] "/tmp/Rtmp0tK7Yo/trial_emu/trial_43.csv" </span></span>
<span><span class="co">#&gt;  [44] "/tmp/Rtmp0tK7Yo/trial_emu/trial_44.csv" </span></span>
<span><span class="co">#&gt;  [45] "/tmp/Rtmp0tK7Yo/trial_emu/trial_45.csv" </span></span>
<span><span class="co">#&gt;  [46] "/tmp/Rtmp0tK7Yo/trial_emu/trial_46.csv" </span></span>
<span><span class="co">#&gt;  [47] "/tmp/Rtmp0tK7Yo/trial_emu/trial_47.csv" </span></span>
<span><span class="co">#&gt;  [48] "/tmp/Rtmp0tK7Yo/trial_emu/trial_48.csv" </span></span>
<span><span class="co">#&gt;  [49] "/tmp/Rtmp0tK7Yo/trial_emu/trial_49.csv" </span></span>
<span><span class="co">#&gt;  [50] "/tmp/Rtmp0tK7Yo/trial_emu/trial_50.csv" </span></span>
<span><span class="co">#&gt;  [51] "/tmp/Rtmp0tK7Yo/trial_emu/trial_51.csv" </span></span>
<span><span class="co">#&gt;  [52] "/tmp/Rtmp0tK7Yo/trial_emu/trial_52.csv" </span></span>
<span><span class="co">#&gt;  [53] "/tmp/Rtmp0tK7Yo/trial_emu/trial_53.csv" </span></span>
<span><span class="co">#&gt;  [54] "/tmp/Rtmp0tK7Yo/trial_emu/trial_54.csv" </span></span>
<span><span class="co">#&gt;  [55] "/tmp/Rtmp0tK7Yo/trial_emu/trial_55.csv" </span></span>
<span><span class="co">#&gt;  [56] "/tmp/Rtmp0tK7Yo/trial_emu/trial_56.csv" </span></span>
<span><span class="co">#&gt;  [57] "/tmp/Rtmp0tK7Yo/trial_emu/trial_57.csv" </span></span>
<span><span class="co">#&gt;  [58] "/tmp/Rtmp0tK7Yo/trial_emu/trial_58.csv" </span></span>
<span><span class="co">#&gt;  [59] "/tmp/Rtmp0tK7Yo/trial_emu/trial_59.csv" </span></span>
<span><span class="co">#&gt;  [60] "/tmp/Rtmp0tK7Yo/trial_emu/trial_60.csv" </span></span>
<span><span class="co">#&gt;  [61] "/tmp/Rtmp0tK7Yo/trial_emu/trial_61.csv" </span></span>
<span><span class="co">#&gt;  [62] "/tmp/Rtmp0tK7Yo/trial_emu/trial_62.csv" </span></span>
<span><span class="co">#&gt;  [63] "/tmp/Rtmp0tK7Yo/trial_emu/trial_63.csv" </span></span>
<span><span class="co">#&gt;  [64] "/tmp/Rtmp0tK7Yo/trial_emu/trial_64.csv" </span></span>
<span><span class="co">#&gt;  [65] "/tmp/Rtmp0tK7Yo/trial_emu/trial_65.csv" </span></span>
<span><span class="co">#&gt;  [66] "/tmp/Rtmp0tK7Yo/trial_emu/trial_66.csv" </span></span>
<span><span class="co">#&gt;  [67] "/tmp/Rtmp0tK7Yo/trial_emu/trial_67.csv" </span></span>
<span><span class="co">#&gt;  [68] "/tmp/Rtmp0tK7Yo/trial_emu/trial_68.csv" </span></span>
<span><span class="co">#&gt;  [69] "/tmp/Rtmp0tK7Yo/trial_emu/trial_69.csv" </span></span>
<span><span class="co">#&gt;  [70] "/tmp/Rtmp0tK7Yo/trial_emu/trial_70.csv" </span></span>
<span><span class="co">#&gt;  [71] "/tmp/Rtmp0tK7Yo/trial_emu/trial_71.csv" </span></span>
<span><span class="co">#&gt;  [72] "/tmp/Rtmp0tK7Yo/trial_emu/trial_72.csv" </span></span>
<span><span class="co">#&gt;  [73] "/tmp/Rtmp0tK7Yo/trial_emu/trial_73.csv" </span></span>
<span><span class="co">#&gt;  [74] "/tmp/Rtmp0tK7Yo/trial_emu/trial_74.csv" </span></span>
<span><span class="co">#&gt;  [75] "/tmp/Rtmp0tK7Yo/trial_emu/trial_75.csv" </span></span>
<span><span class="co">#&gt;  [76] "/tmp/Rtmp0tK7Yo/trial_emu/trial_76.csv" </span></span>
<span><span class="co">#&gt;  [77] "/tmp/Rtmp0tK7Yo/trial_emu/trial_77.csv" </span></span>
<span><span class="co">#&gt;  [78] "/tmp/Rtmp0tK7Yo/trial_emu/trial_78.csv" </span></span>
<span><span class="co">#&gt;  [79] "/tmp/Rtmp0tK7Yo/trial_emu/trial_79.csv" </span></span>
<span><span class="co">#&gt;  [80] "/tmp/Rtmp0tK7Yo/trial_emu/trial_80.csv" </span></span>
<span><span class="co">#&gt;  [81] "/tmp/Rtmp0tK7Yo/trial_emu/trial_81.csv" </span></span>
<span><span class="co">#&gt;  [82] "/tmp/Rtmp0tK7Yo/trial_emu/trial_82.csv" </span></span>
<span><span class="co">#&gt;  [83] "/tmp/Rtmp0tK7Yo/trial_emu/trial_83.csv" </span></span>
<span><span class="co">#&gt;  [84] "/tmp/Rtmp0tK7Yo/trial_emu/trial_84.csv" </span></span>
<span><span class="co">#&gt;  [85] "/tmp/Rtmp0tK7Yo/trial_emu/trial_85.csv" </span></span>
<span><span class="co">#&gt;  [86] "/tmp/Rtmp0tK7Yo/trial_emu/trial_86.csv" </span></span>
<span><span class="co">#&gt;  [87] "/tmp/Rtmp0tK7Yo/trial_emu/trial_87.csv" </span></span>
<span><span class="co">#&gt;  [88] "/tmp/Rtmp0tK7Yo/trial_emu/trial_88.csv" </span></span>
<span><span class="co">#&gt;  [89] "/tmp/Rtmp0tK7Yo/trial_emu/trial_89.csv" </span></span>
<span><span class="co">#&gt;  [90] "/tmp/Rtmp0tK7Yo/trial_emu/trial_90.csv" </span></span>
<span><span class="co">#&gt;  [91] "/tmp/Rtmp0tK7Yo/trial_emu/trial_91.csv" </span></span>
<span><span class="co">#&gt;  [92] "/tmp/Rtmp0tK7Yo/trial_emu/trial_92.csv" </span></span>
<span><span class="co">#&gt;  [93] "/tmp/Rtmp0tK7Yo/trial_emu/trial_93.csv" </span></span>
<span><span class="co">#&gt;  [94] "/tmp/Rtmp0tK7Yo/trial_emu/trial_94.csv" </span></span>
<span><span class="co">#&gt;  [95] "/tmp/Rtmp0tK7Yo/trial_emu/trial_95.csv" </span></span>
<span><span class="co">#&gt;  [96] "/tmp/Rtmp0tK7Yo/trial_emu/trial_96.csv" </span></span>
<span><span class="co">#&gt;  [97] "/tmp/Rtmp0tK7Yo/trial_emu/trial_97.csv" </span></span>
<span><span class="co">#&gt;  [98] "/tmp/Rtmp0tK7Yo/trial_emu/trial_98.csv" </span></span>
<span><span class="co">#&gt;  [99] "/tmp/Rtmp0tK7Yo/trial_emu/trial_99.csv" </span></span>
<span><span class="co">#&gt; [100] "/tmp/Rtmp0tK7Yo/trial_emu/trial_100.csv"</span></span>
<span><span class="co">#&gt; [101] "/tmp/Rtmp0tK7Yo/trial_emu/trial_101.csv"</span></span>
<span><span class="co">#&gt; [102] "/tmp/Rtmp0tK7Yo/trial_emu/trial_102.csv"</span></span>
<span><span class="co">#&gt; [103] "/tmp/Rtmp0tK7Yo/trial_emu/trial_103.csv"</span></span>
<span><span class="co">#&gt; [104] "/tmp/Rtmp0tK7Yo/trial_emu/trial_104.csv"</span></span>
<span><span class="co">#&gt; [105] "/tmp/Rtmp0tK7Yo/trial_emu/trial_105.csv"</span></span>
<span><span class="co">#&gt; [106] "/tmp/Rtmp0tK7Yo/trial_emu/trial_106.csv"</span></span>
<span><span class="co">#&gt; [107] "/tmp/Rtmp0tK7Yo/trial_emu/trial_107.csv"</span></span>
<span><span class="co">#&gt; [108] "/tmp/Rtmp0tK7Yo/trial_emu/trial_108.csv"</span></span>
<span><span class="co">#&gt; [109] "/tmp/Rtmp0tK7Yo/trial_emu/trial_109.csv"</span></span>
<span><span class="co">#&gt; [110] "/tmp/Rtmp0tK7Yo/trial_emu/trial_110.csv"</span></span>
<span><span class="co">#&gt; [111] "/tmp/Rtmp0tK7Yo/trial_emu/trial_111.csv"</span></span>
<span><span class="co">#&gt; [112] "/tmp/Rtmp0tK7Yo/trial_emu/trial_112.csv"</span></span>
<span><span class="co">#&gt; [113] "/tmp/Rtmp0tK7Yo/trial_emu/trial_113.csv"</span></span>
<span><span class="co">#&gt; [114] "/tmp/Rtmp0tK7Yo/trial_emu/trial_114.csv"</span></span>
<span><span class="co">#&gt; [115] "/tmp/Rtmp0tK7Yo/trial_emu/trial_115.csv"</span></span>
<span><span class="co">#&gt; [116] "/tmp/Rtmp0tK7Yo/trial_emu/trial_116.csv"</span></span>
<span><span class="co">#&gt; [117] "/tmp/Rtmp0tK7Yo/trial_emu/trial_117.csv"</span></span>
<span><span class="co">#&gt; [118] "/tmp/Rtmp0tK7Yo/trial_emu/trial_118.csv"</span></span>
<span><span class="co">#&gt; [119] "/tmp/Rtmp0tK7Yo/trial_emu/trial_119.csv"</span></span>
<span><span class="co">#&gt; [120] "/tmp/Rtmp0tK7Yo/trial_emu/trial_120.csv"</span></span>
<span><span class="co">#&gt; [121] "/tmp/Rtmp0tK7Yo/trial_emu/trial_121.csv"</span></span>
<span><span class="co">#&gt; [122] "/tmp/Rtmp0tK7Yo/trial_emu/trial_122.csv"</span></span>
<span><span class="co">#&gt; [123] "/tmp/Rtmp0tK7Yo/trial_emu/trial_123.csv"</span></span>
<span><span class="co">#&gt; [124] "/tmp/Rtmp0tK7Yo/trial_emu/trial_124.csv"</span></span>
<span><span class="co">#&gt; [125] "/tmp/Rtmp0tK7Yo/trial_emu/trial_125.csv"</span></span>
<span><span class="co">#&gt; [126] "/tmp/Rtmp0tK7Yo/trial_emu/trial_126.csv"</span></span>
<span><span class="co">#&gt; [127] "/tmp/Rtmp0tK7Yo/trial_emu/trial_127.csv"</span></span>
<span><span class="co">#&gt; [128] "/tmp/Rtmp0tK7Yo/trial_emu/trial_128.csv"</span></span>
<span><span class="co">#&gt; [129] "/tmp/Rtmp0tK7Yo/trial_emu/trial_129.csv"</span></span>
<span><span class="co">#&gt; [130] "/tmp/Rtmp0tK7Yo/trial_emu/trial_130.csv"</span></span>
<span><span class="co">#&gt; [131] "/tmp/Rtmp0tK7Yo/trial_emu/trial_131.csv"</span></span>
<span><span class="co">#&gt; [132] "/tmp/Rtmp0tK7Yo/trial_emu/trial_132.csv"</span></span>
<span><span class="co">#&gt; [133] "/tmp/Rtmp0tK7Yo/trial_emu/trial_133.csv"</span></span>
<span><span class="co">#&gt; [134] "/tmp/Rtmp0tK7Yo/trial_emu/trial_134.csv"</span></span>
<span><span class="co">#&gt; [135] "/tmp/Rtmp0tK7Yo/trial_emu/trial_135.csv"</span></span>
<span><span class="co">#&gt; [136] "/tmp/Rtmp0tK7Yo/trial_emu/trial_136.csv"</span></span>
<span><span class="co">#&gt; [137] "/tmp/Rtmp0tK7Yo/trial_emu/trial_137.csv"</span></span>
<span><span class="co">#&gt; [138] "/tmp/Rtmp0tK7Yo/trial_emu/trial_138.csv"</span></span>
<span><span class="co">#&gt; [139] "/tmp/Rtmp0tK7Yo/trial_emu/trial_139.csv"</span></span>
<span><span class="co">#&gt; [140] "/tmp/Rtmp0tK7Yo/trial_emu/trial_140.csv"</span></span>
<span><span class="co">#&gt; [141] "/tmp/Rtmp0tK7Yo/trial_emu/trial_141.csv"</span></span>
<span><span class="co">#&gt; [142] "/tmp/Rtmp0tK7Yo/trial_emu/trial_142.csv"</span></span>
<span><span class="co">#&gt; [143] "/tmp/Rtmp0tK7Yo/trial_emu/trial_143.csv"</span></span>
<span><span class="co">#&gt; [144] "/tmp/Rtmp0tK7Yo/trial_emu/trial_144.csv"</span></span>
<span><span class="co">#&gt; [145] "/tmp/Rtmp0tK7Yo/trial_emu/trial_145.csv"</span></span>
<span><span class="co">#&gt; [146] "/tmp/Rtmp0tK7Yo/trial_emu/trial_146.csv"</span></span>
<span><span class="co">#&gt; [147] "/tmp/Rtmp0tK7Yo/trial_emu/trial_147.csv"</span></span>
<span><span class="co">#&gt; [148] "/tmp/Rtmp0tK7Yo/trial_emu/trial_148.csv"</span></span>
<span><span class="co">#&gt; [149] "/tmp/Rtmp0tK7Yo/trial_emu/trial_149.csv"</span></span>
<span><span class="co">#&gt; [150] "/tmp/Rtmp0tK7Yo/trial_emu/trial_150.csv"</span></span>
<span><span class="co">#&gt; [151] "/tmp/Rtmp0tK7Yo/trial_emu/trial_151.csv"</span></span>
<span><span class="co">#&gt; [152] "/tmp/Rtmp0tK7Yo/trial_emu/trial_152.csv"</span></span>
<span><span class="co">#&gt; [153] "/tmp/Rtmp0tK7Yo/trial_emu/trial_153.csv"</span></span>
<span><span class="co">#&gt; [154] "/tmp/Rtmp0tK7Yo/trial_emu/trial_154.csv"</span></span>
<span><span class="co">#&gt; [155] "/tmp/Rtmp0tK7Yo/trial_emu/trial_155.csv"</span></span>
<span><span class="co">#&gt; [156] "/tmp/Rtmp0tK7Yo/trial_emu/trial_156.csv"</span></span>
<span><span class="co">#&gt; [157] "/tmp/Rtmp0tK7Yo/trial_emu/trial_157.csv"</span></span>
<span><span class="co">#&gt; [158] "/tmp/Rtmp0tK7Yo/trial_emu/trial_158.csv"</span></span>
<span><span class="co">#&gt; [159] "/tmp/Rtmp0tK7Yo/trial_emu/trial_159.csv"</span></span>
<span><span class="co">#&gt; [160] "/tmp/Rtmp0tK7Yo/trial_emu/trial_160.csv"</span></span>
<span><span class="co">#&gt; [161] "/tmp/Rtmp0tK7Yo/trial_emu/trial_161.csv"</span></span>
<span><span class="co">#&gt; [162] "/tmp/Rtmp0tK7Yo/trial_emu/trial_162.csv"</span></span>
<span><span class="co">#&gt; [163] "/tmp/Rtmp0tK7Yo/trial_emu/trial_163.csv"</span></span>
<span><span class="co">#&gt; [164] "/tmp/Rtmp0tK7Yo/trial_emu/trial_164.csv"</span></span>
<span><span class="co">#&gt; [165] "/tmp/Rtmp0tK7Yo/trial_emu/trial_165.csv"</span></span>
<span><span class="co">#&gt; [166] "/tmp/Rtmp0tK7Yo/trial_emu/trial_166.csv"</span></span>
<span><span class="co">#&gt; [167] "/tmp/Rtmp0tK7Yo/trial_emu/trial_167.csv"</span></span>
<span><span class="co">#&gt; [168] "/tmp/Rtmp0tK7Yo/trial_emu/trial_168.csv"</span></span>
<span><span class="co">#&gt; [169] "/tmp/Rtmp0tK7Yo/trial_emu/trial_169.csv"</span></span>
<span><span class="co">#&gt; [170] "/tmp/Rtmp0tK7Yo/trial_emu/trial_170.csv"</span></span>
<span><span class="co">#&gt; [171] "/tmp/Rtmp0tK7Yo/trial_emu/trial_171.csv"</span></span>
<span><span class="co">#&gt; [172] "/tmp/Rtmp0tK7Yo/trial_emu/trial_172.csv"</span></span>
<span><span class="co">#&gt; [173] "/tmp/Rtmp0tK7Yo/trial_emu/trial_173.csv"</span></span>
<span><span class="co">#&gt; [174] "/tmp/Rtmp0tK7Yo/trial_emu/trial_174.csv"</span></span>
<span><span class="co">#&gt; [175] "/tmp/Rtmp0tK7Yo/trial_emu/trial_175.csv"</span></span>
<span><span class="co">#&gt; [176] "/tmp/Rtmp0tK7Yo/trial_emu/trial_176.csv"</span></span>
<span><span class="co">#&gt; [177] "/tmp/Rtmp0tK7Yo/trial_emu/trial_177.csv"</span></span>
<span><span class="co">#&gt; [178] "/tmp/Rtmp0tK7Yo/trial_emu/trial_178.csv"</span></span>
<span><span class="co">#&gt; [179] "/tmp/Rtmp0tK7Yo/trial_emu/trial_179.csv"</span></span>
<span><span class="co">#&gt; [180] "/tmp/Rtmp0tK7Yo/trial_emu/trial_180.csv"</span></span>
<span><span class="co">#&gt; [181] "/tmp/Rtmp0tK7Yo/trial_emu/trial_181.csv"</span></span>
<span><span class="co">#&gt; [182] "/tmp/Rtmp0tK7Yo/trial_emu/trial_182.csv"</span></span>
<span><span class="co">#&gt; [183] "/tmp/Rtmp0tK7Yo/trial_emu/trial_183.csv"</span></span>
<span><span class="co">#&gt; [184] "/tmp/Rtmp0tK7Yo/trial_emu/trial_184.csv"</span></span>
<span><span class="co">#&gt; [185] "/tmp/Rtmp0tK7Yo/trial_emu/trial_185.csv"</span></span>
<span><span class="co">#&gt; [186] "/tmp/Rtmp0tK7Yo/trial_emu/trial_186.csv"</span></span>
<span><span class="co">#&gt; [187] "/tmp/Rtmp0tK7Yo/trial_emu/trial_187.csv"</span></span>
<span><span class="co">#&gt; [188] "/tmp/Rtmp0tK7Yo/trial_emu/trial_188.csv"</span></span>
<span><span class="co">#&gt; [189] "/tmp/Rtmp0tK7Yo/trial_emu/trial_189.csv"</span></span>
<span><span class="co">#&gt; [190] "/tmp/Rtmp0tK7Yo/trial_emu/trial_190.csv"</span></span>
<span><span class="co">#&gt; [191] "/tmp/Rtmp0tK7Yo/trial_emu/trial_191.csv"</span></span>
<span><span class="co">#&gt; [192] "/tmp/Rtmp0tK7Yo/trial_emu/trial_192.csv"</span></span>
<span><span class="co">#&gt; [193] "/tmp/Rtmp0tK7Yo/trial_emu/trial_193.csv"</span></span>
<span><span class="co">#&gt; [194] "/tmp/Rtmp0tK7Yo/trial_emu/trial_194.csv"</span></span>
<span><span class="co">#&gt; [195] "/tmp/Rtmp0tK7Yo/trial_emu/trial_195.csv"</span></span>
<span><span class="co">#&gt; [196] "/tmp/Rtmp0tK7Yo/trial_emu/trial_196.csv"</span></span>
<span><span class="co">#&gt; [197] "/tmp/Rtmp0tK7Yo/trial_emu/trial_197.csv"</span></span>
<span><span class="co">#&gt; [198] "/tmp/Rtmp0tK7Yo/trial_emu/trial_198.csv"</span></span>
<span><span class="co">#&gt; [199] "/tmp/Rtmp0tK7Yo/trial_emu/trial_199.csv"</span></span>
<span><span class="co">#&gt; [200] "/tmp/Rtmp0tK7Yo/trial_emu/trial_200.csv"</span></span>
<span><span class="co">#&gt; [201] "/tmp/Rtmp0tK7Yo/trial_emu/trial_201.csv"</span></span>
<span><span class="co">#&gt; [202] "/tmp/Rtmp0tK7Yo/trial_emu/trial_202.csv"</span></span>
<span><span class="co">#&gt; [203] "/tmp/Rtmp0tK7Yo/trial_emu/trial_203.csv"</span></span>
<span><span class="co">#&gt; [204] "/tmp/Rtmp0tK7Yo/trial_emu/trial_204.csv"</span></span>
<span><span class="co">#&gt; [205] "/tmp/Rtmp0tK7Yo/trial_emu/trial_205.csv"</span></span>
<span><span class="co">#&gt; [206] "/tmp/Rtmp0tK7Yo/trial_emu/trial_206.csv"</span></span>
<span><span class="co">#&gt; [207] "/tmp/Rtmp0tK7Yo/trial_emu/trial_207.csv"</span></span>
<span><span class="co">#&gt; [208] "/tmp/Rtmp0tK7Yo/trial_emu/trial_208.csv"</span></span>
<span><span class="co">#&gt; [209] "/tmp/Rtmp0tK7Yo/trial_emu/trial_209.csv"</span></span>
<span><span class="co">#&gt; [210] "/tmp/Rtmp0tK7Yo/trial_emu/trial_210.csv"</span></span>
<span><span class="co">#&gt; [211] "/tmp/Rtmp0tK7Yo/trial_emu/trial_211.csv"</span></span>
<span><span class="co">#&gt; [212] "/tmp/Rtmp0tK7Yo/trial_emu/trial_212.csv"</span></span>
<span><span class="co">#&gt; [213] "/tmp/Rtmp0tK7Yo/trial_emu/trial_213.csv"</span></span>
<span><span class="co">#&gt; [214] "/tmp/Rtmp0tK7Yo/trial_emu/trial_214.csv"</span></span>
<span><span class="co">#&gt; [215] "/tmp/Rtmp0tK7Yo/trial_emu/trial_215.csv"</span></span>
<span><span class="co">#&gt; [216] "/tmp/Rtmp0tK7Yo/trial_emu/trial_216.csv"</span></span>
<span><span class="co">#&gt; [217] "/tmp/Rtmp0tK7Yo/trial_emu/trial_217.csv"</span></span>
<span><span class="co">#&gt; [218] "/tmp/Rtmp0tK7Yo/trial_emu/trial_218.csv"</span></span>
<span><span class="co">#&gt; [219] "/tmp/Rtmp0tK7Yo/trial_emu/trial_219.csv"</span></span>
<span><span class="co">#&gt; [220] "/tmp/Rtmp0tK7Yo/trial_emu/trial_220.csv"</span></span>
<span><span class="co">#&gt; [221] "/tmp/Rtmp0tK7Yo/trial_emu/trial_221.csv"</span></span>
<span><span class="co">#&gt; [222] "/tmp/Rtmp0tK7Yo/trial_emu/trial_222.csv"</span></span>
<span><span class="co">#&gt; [223] "/tmp/Rtmp0tK7Yo/trial_emu/trial_223.csv"</span></span>
<span><span class="co">#&gt; [224] "/tmp/Rtmp0tK7Yo/trial_emu/trial_224.csv"</span></span>
<span><span class="co">#&gt; [225] "/tmp/Rtmp0tK7Yo/trial_emu/trial_225.csv"</span></span>
<span><span class="co">#&gt; [226] "/tmp/Rtmp0tK7Yo/trial_emu/trial_226.csv"</span></span>
<span><span class="co">#&gt; [227] "/tmp/Rtmp0tK7Yo/trial_emu/trial_227.csv"</span></span>
<span><span class="co">#&gt; [228] "/tmp/Rtmp0tK7Yo/trial_emu/trial_228.csv"</span></span>
<span><span class="co">#&gt; [229] "/tmp/Rtmp0tK7Yo/trial_emu/trial_229.csv"</span></span>
<span><span class="co">#&gt; [230] "/tmp/Rtmp0tK7Yo/trial_emu/trial_230.csv"</span></span>
<span><span class="co">#&gt; [231] "/tmp/Rtmp0tK7Yo/trial_emu/trial_231.csv"</span></span>
<span><span class="co">#&gt; [232] "/tmp/Rtmp0tK7Yo/trial_emu/trial_232.csv"</span></span>
<span><span class="co">#&gt; [233] "/tmp/Rtmp0tK7Yo/trial_emu/trial_233.csv"</span></span>
<span><span class="co">#&gt; [234] "/tmp/Rtmp0tK7Yo/trial_emu/trial_234.csv"</span></span>
<span><span class="co">#&gt; [235] "/tmp/Rtmp0tK7Yo/trial_emu/trial_235.csv"</span></span>
<span><span class="co">#&gt; [236] "/tmp/Rtmp0tK7Yo/trial_emu/trial_236.csv"</span></span>
<span><span class="co">#&gt; [237] "/tmp/Rtmp0tK7Yo/trial_emu/trial_237.csv"</span></span>
<span><span class="co">#&gt; [238] "/tmp/Rtmp0tK7Yo/trial_emu/trial_238.csv"</span></span>
<span><span class="co">#&gt; [239] "/tmp/Rtmp0tK7Yo/trial_emu/trial_239.csv"</span></span>
<span><span class="co">#&gt; [240] "/tmp/Rtmp0tK7Yo/trial_emu/trial_240.csv"</span></span>
<span><span class="co">#&gt; [241] "/tmp/Rtmp0tK7Yo/trial_emu/trial_241.csv"</span></span>
<span><span class="co">#&gt; [242] "/tmp/Rtmp0tK7Yo/trial_emu/trial_242.csv"</span></span>
<span><span class="co">#&gt; [243] "/tmp/Rtmp0tK7Yo/trial_emu/trial_243.csv"</span></span>
<span><span class="co">#&gt; [244] "/tmp/Rtmp0tK7Yo/trial_emu/trial_244.csv"</span></span>
<span><span class="co">#&gt; [245] "/tmp/Rtmp0tK7Yo/trial_emu/trial_245.csv"</span></span>
<span><span class="co">#&gt; [246] "/tmp/Rtmp0tK7Yo/trial_emu/trial_246.csv"</span></span>
<span><span class="co">#&gt; [247] "/tmp/Rtmp0tK7Yo/trial_emu/trial_247.csv"</span></span>
<span><span class="co">#&gt; [248] "/tmp/Rtmp0tK7Yo/trial_emu/trial_248.csv"</span></span>
<span><span class="co">#&gt; [249] "/tmp/Rtmp0tK7Yo/trial_emu/trial_249.csv"</span></span>
<span><span class="co">#&gt; [250] "/tmp/Rtmp0tK7Yo/trial_emu/trial_250.csv"</span></span>
<span><span class="co">#&gt; [251] "/tmp/Rtmp0tK7Yo/trial_emu/trial_251.csv"</span></span>
<span><span class="co">#&gt; [252] "/tmp/Rtmp0tK7Yo/trial_emu/trial_252.csv"</span></span>
<span><span class="co">#&gt; [253] "/tmp/Rtmp0tK7Yo/trial_emu/trial_253.csv"</span></span>
<span><span class="co">#&gt; [254] "/tmp/Rtmp0tK7Yo/trial_emu/trial_254.csv"</span></span>
<span><span class="co">#&gt; [255] "/tmp/Rtmp0tK7Yo/trial_emu/trial_255.csv"</span></span>
<span><span class="co">#&gt; [256] "/tmp/Rtmp0tK7Yo/trial_emu/trial_256.csv"</span></span>
<span><span class="co">#&gt; [257] "/tmp/Rtmp0tK7Yo/trial_emu/trial_257.csv"</span></span>
<span><span class="co">#&gt; [258] "/tmp/Rtmp0tK7Yo/trial_emu/trial_258.csv"</span></span>
<span><span class="co">#&gt; [259] "/tmp/Rtmp0tK7Yo/trial_emu/trial_259.csv"</span></span>
<span><span class="co">#&gt; [260] "/tmp/Rtmp0tK7Yo/trial_emu/trial_260.csv"</span></span>
<span><span class="co">#&gt; [261] "/tmp/Rtmp0tK7Yo/trial_emu/trial_261.csv"</span></span>
<span><span class="co">#&gt; [262] "/tmp/Rtmp0tK7Yo/trial_emu/trial_262.csv"</span></span>
<span><span class="co">#&gt; [263] "/tmp/Rtmp0tK7Yo/trial_emu/trial_263.csv"</span></span>
<span><span class="co">#&gt; [264] "/tmp/Rtmp0tK7Yo/trial_emu/trial_264.csv"</span></span>
<span><span class="co">#&gt; [265] "/tmp/Rtmp0tK7Yo/trial_emu/trial_265.csv"</span></span>
<span><span class="co">#&gt; [266] "/tmp/Rtmp0tK7Yo/trial_emu/trial_266.csv"</span></span>
<span><span class="co">#&gt; [267] "/tmp/Rtmp0tK7Yo/trial_emu/trial_267.csv"</span></span>
<span><span class="co">#&gt; [268] "/tmp/Rtmp0tK7Yo/trial_emu/trial_268.csv"</span></span>
<span><span class="co">#&gt; [269] "/tmp/Rtmp0tK7Yo/trial_emu/trial_269.csv"</span></span>
<span><span class="co">#&gt; [270] "/tmp/Rtmp0tK7Yo/trial_emu/trial_270.csv"</span></span>
<span><span class="co">#&gt; [271] "/tmp/Rtmp0tK7Yo/trial_emu/trial_271.csv"</span></span>
<span><span class="co">#&gt; [272] "/tmp/Rtmp0tK7Yo/trial_emu/trial_272.csv"</span></span>
<span><span class="co">#&gt; [273] "/tmp/Rtmp0tK7Yo/trial_emu/trial_273.csv"</span></span>
<span><span class="co">#&gt; [274] "/tmp/Rtmp0tK7Yo/trial_emu/trial_274.csv"</span></span>
<span><span class="co">#&gt; [275] "/tmp/Rtmp0tK7Yo/trial_emu/trial_275.csv"</span></span>
<span><span class="co">#&gt; [276] "/tmp/Rtmp0tK7Yo/trial_emu/trial_276.csv"</span></span>
<span><span class="co">#&gt; [277] "/tmp/Rtmp0tK7Yo/trial_emu/trial_277.csv"</span></span>
<span><span class="co">#&gt; [278] "/tmp/Rtmp0tK7Yo/trial_emu/trial_278.csv"</span></span>
<span><span class="co">#&gt; [279] "/tmp/Rtmp0tK7Yo/trial_emu/trial_279.csv"</span></span>
<span><span class="co">#&gt; [280] "/tmp/Rtmp0tK7Yo/trial_emu/trial_280.csv"</span></span>
<span><span class="co">#&gt; [281] "/tmp/Rtmp0tK7Yo/trial_emu/trial_281.csv"</span></span>
<span><span class="co">#&gt; [282] "/tmp/Rtmp0tK7Yo/trial_emu/trial_282.csv"</span></span>
<span><span class="co">#&gt; [283] "/tmp/Rtmp0tK7Yo/trial_emu/trial_283.csv"</span></span>
<span><span class="co">#&gt; [284] "/tmp/Rtmp0tK7Yo/trial_emu/trial_284.csv"</span></span>
<span><span class="co">#&gt; [285] "/tmp/Rtmp0tK7Yo/trial_emu/trial_285.csv"</span></span>
<span><span class="co">#&gt; [286] "/tmp/Rtmp0tK7Yo/trial_emu/trial_286.csv"</span></span>
<span><span class="co">#&gt; [287] "/tmp/Rtmp0tK7Yo/trial_emu/trial_287.csv"</span></span>
<span><span class="co">#&gt; [288] "/tmp/Rtmp0tK7Yo/trial_emu/trial_288.csv"</span></span>
<span><span class="co">#&gt; [289] "/tmp/Rtmp0tK7Yo/trial_emu/trial_289.csv"</span></span>
<span><span class="co">#&gt; [290] "/tmp/Rtmp0tK7Yo/trial_emu/trial_290.csv"</span></span>
<span><span class="co">#&gt; [291] "/tmp/Rtmp0tK7Yo/trial_emu/trial_291.csv"</span></span>
<span><span class="co">#&gt; [292] "/tmp/Rtmp0tK7Yo/trial_emu/trial_292.csv"</span></span>
<span><span class="co">#&gt; [293] "/tmp/Rtmp0tK7Yo/trial_emu/trial_293.csv"</span></span>
<span><span class="co">#&gt; [294] "/tmp/Rtmp0tK7Yo/trial_emu/trial_294.csv"</span></span>
<span><span class="co">#&gt; [295] "/tmp/Rtmp0tK7Yo/trial_emu/trial_295.csv"</span></span>
<span><span class="co">#&gt; [296] "/tmp/Rtmp0tK7Yo/trial_emu/trial_296.csv"</span></span>
<span><span class="co">#&gt; [297] "/tmp/Rtmp0tK7Yo/trial_emu/trial_297.csv"</span></span>
<span><span class="co">#&gt; [298] "/tmp/Rtmp0tK7Yo/trial_emu/trial_298.csv"</span></span>
<span><span class="co">#&gt; [299] "/tmp/Rtmp0tK7Yo/trial_emu/trial_299.csv"</span></span>
<span><span class="co">#&gt; [300] "/tmp/Rtmp0tK7Yo/trial_emu/trial_300.csv"</span></span>
<span><span class="co">#&gt; [301] "/tmp/Rtmp0tK7Yo/trial_emu/trial_301.csv"</span></span>
<span><span class="co">#&gt; [302] "/tmp/Rtmp0tK7Yo/trial_emu/trial_302.csv"</span></span>
<span><span class="co">#&gt; [303] "/tmp/Rtmp0tK7Yo/trial_emu/trial_303.csv"</span></span>
<span><span class="co">#&gt; [304] "/tmp/Rtmp0tK7Yo/trial_emu/trial_304.csv"</span></span>
<span><span class="co">#&gt; [305] "/tmp/Rtmp0tK7Yo/trial_emu/trial_305.csv"</span></span>
<span><span class="co">#&gt; [306] "/tmp/Rtmp0tK7Yo/trial_emu/trial_306.csv"</span></span>
<span><span class="co">#&gt; [307] "/tmp/Rtmp0tK7Yo/trial_emu/trial_307.csv"</span></span>
<span><span class="co">#&gt; [308] "/tmp/Rtmp0tK7Yo/trial_emu/trial_308.csv"</span></span>
<span><span class="co">#&gt; [309] "/tmp/Rtmp0tK7Yo/trial_emu/trial_309.csv"</span></span>
<span><span class="co">#&gt; [310] "/tmp/Rtmp0tK7Yo/trial_emu/trial_310.csv"</span></span>
<span><span class="co">#&gt; [311] "/tmp/Rtmp0tK7Yo/trial_emu/trial_311.csv"</span></span>
<span><span class="co">#&gt; [312] "/tmp/Rtmp0tK7Yo/trial_emu/trial_312.csv"</span></span>
<span><span class="co">#&gt; [313] "/tmp/Rtmp0tK7Yo/trial_emu/trial_313.csv"</span></span>
<span><span class="co">#&gt; [314] "/tmp/Rtmp0tK7Yo/trial_emu/trial_314.csv"</span></span>
<span><span class="co">#&gt; [315] "/tmp/Rtmp0tK7Yo/trial_emu/trial_315.csv"</span></span>
<span><span class="co">#&gt; [316] "/tmp/Rtmp0tK7Yo/trial_emu/trial_316.csv"</span></span>
<span><span class="co">#&gt; [317] "/tmp/Rtmp0tK7Yo/trial_emu/trial_317.csv"</span></span>
<span><span class="co">#&gt; [318] "/tmp/Rtmp0tK7Yo/trial_emu/trial_318.csv"</span></span>
<span><span class="co">#&gt; [319] "/tmp/Rtmp0tK7Yo/trial_emu/trial_319.csv"</span></span>
<span><span class="co">#&gt; [320] "/tmp/Rtmp0tK7Yo/trial_emu/trial_320.csv"</span></span>
<span><span class="co">#&gt; [321] "/tmp/Rtmp0tK7Yo/trial_emu/trial_321.csv"</span></span>
<span><span class="co">#&gt; [322] "/tmp/Rtmp0tK7Yo/trial_emu/trial_322.csv"</span></span>
<span><span class="co">#&gt; [323] "/tmp/Rtmp0tK7Yo/trial_emu/trial_323.csv"</span></span>
<span><span class="co">#&gt; [324] "/tmp/Rtmp0tK7Yo/trial_emu/trial_324.csv"</span></span>
<span><span class="co">#&gt; [325] "/tmp/Rtmp0tK7Yo/trial_emu/trial_325.csv"</span></span>
<span><span class="co">#&gt; [326] "/tmp/Rtmp0tK7Yo/trial_emu/trial_326.csv"</span></span>
<span><span class="co">#&gt; [327] "/tmp/Rtmp0tK7Yo/trial_emu/trial_327.csv"</span></span>
<span><span class="co">#&gt; [328] "/tmp/Rtmp0tK7Yo/trial_emu/trial_328.csv"</span></span>
<span><span class="co">#&gt; [329] "/tmp/Rtmp0tK7Yo/trial_emu/trial_329.csv"</span></span>
<span><span class="co">#&gt; [330] "/tmp/Rtmp0tK7Yo/trial_emu/trial_330.csv"</span></span>
<span><span class="co">#&gt; [331] "/tmp/Rtmp0tK7Yo/trial_emu/trial_331.csv"</span></span>
<span><span class="co">#&gt; [332] "/tmp/Rtmp0tK7Yo/trial_emu/trial_332.csv"</span></span>
<span><span class="co">#&gt; [333] "/tmp/Rtmp0tK7Yo/trial_emu/trial_333.csv"</span></span>
<span><span class="co">#&gt; [334] "/tmp/Rtmp0tK7Yo/trial_emu/trial_334.csv"</span></span>
<span><span class="co">#&gt; [335] "/tmp/Rtmp0tK7Yo/trial_emu/trial_335.csv"</span></span>
<span><span class="co">#&gt; [336] "/tmp/Rtmp0tK7Yo/trial_emu/trial_336.csv"</span></span>
<span><span class="co">#&gt; [337] "/tmp/Rtmp0tK7Yo/trial_emu/trial_337.csv"</span></span>
<span><span class="co">#&gt; [338] "/tmp/Rtmp0tK7Yo/trial_emu/trial_338.csv"</span></span>
<span><span class="co">#&gt; [339] "/tmp/Rtmp0tK7Yo/trial_emu/trial_339.csv"</span></span>
<span><span class="co">#&gt; [340] "/tmp/Rtmp0tK7Yo/trial_emu/trial_340.csv"</span></span>
<span><span class="co">#&gt; [341] "/tmp/Rtmp0tK7Yo/trial_emu/trial_341.csv"</span></span>
<span><span class="co">#&gt; [342] "/tmp/Rtmp0tK7Yo/trial_emu/trial_342.csv"</span></span>
<span><span class="co">#&gt; [343] "/tmp/Rtmp0tK7Yo/trial_emu/trial_343.csv"</span></span>
<span><span class="co">#&gt; [344] "/tmp/Rtmp0tK7Yo/trial_emu/trial_344.csv"</span></span>
<span><span class="co">#&gt; [345] "/tmp/Rtmp0tK7Yo/trial_emu/trial_345.csv"</span></span>
<span><span class="co">#&gt; [346] "/tmp/Rtmp0tK7Yo/trial_emu/trial_346.csv"</span></span>
<span><span class="co">#&gt; [347] "/tmp/Rtmp0tK7Yo/trial_emu/trial_347.csv"</span></span>
<span><span class="co">#&gt; [348] "/tmp/Rtmp0tK7Yo/trial_emu/trial_348.csv"</span></span>
<span><span class="co">#&gt; [349] "/tmp/Rtmp0tK7Yo/trial_emu/trial_349.csv"</span></span>
<span><span class="co">#&gt; [350] "/tmp/Rtmp0tK7Yo/trial_emu/trial_350.csv"</span></span>
<span><span class="co">#&gt; [351] "/tmp/Rtmp0tK7Yo/trial_emu/trial_351.csv"</span></span>
<span><span class="co">#&gt; [352] "/tmp/Rtmp0tK7Yo/trial_emu/trial_352.csv"</span></span>
<span><span class="co">#&gt; [353] "/tmp/Rtmp0tK7Yo/trial_emu/trial_353.csv"</span></span>
<span><span class="co">#&gt; [354] "/tmp/Rtmp0tK7Yo/trial_emu/trial_354.csv"</span></span>
<span><span class="co">#&gt; [355] "/tmp/Rtmp0tK7Yo/trial_emu/trial_355.csv"</span></span>
<span><span class="co">#&gt; [356] "/tmp/Rtmp0tK7Yo/trial_emu/trial_356.csv"</span></span>
<span><span class="co">#&gt; [357] "/tmp/Rtmp0tK7Yo/trial_emu/trial_357.csv"</span></span>
<span><span class="co">#&gt; [358] "/tmp/Rtmp0tK7Yo/trial_emu/trial_358.csv"</span></span>
<span><span class="co">#&gt; [359] "/tmp/Rtmp0tK7Yo/trial_emu/trial_359.csv"</span></span>
<span><span class="co">#&gt; [360] "/tmp/Rtmp0tK7Yo/trial_emu/trial_360.csv"</span></span>
<span><span class="co">#&gt; [361] "/tmp/Rtmp0tK7Yo/trial_emu/trial_361.csv"</span></span>
<span><span class="co">#&gt; [362] "/tmp/Rtmp0tK7Yo/trial_emu/trial_362.csv"</span></span>
<span><span class="co">#&gt; [363] "/tmp/Rtmp0tK7Yo/trial_emu/trial_363.csv"</span></span>
<span><span class="co">#&gt; [364] "/tmp/Rtmp0tK7Yo/trial_emu/trial_364.csv"</span></span>
<span><span class="co">#&gt; [365] "/tmp/Rtmp0tK7Yo/trial_emu/trial_365.csv"</span></span>
<span><span class="co">#&gt; [366] "/tmp/Rtmp0tK7Yo/trial_emu/trial_366.csv"</span></span>
<span><span class="co">#&gt; [367] "/tmp/Rtmp0tK7Yo/trial_emu/trial_367.csv"</span></span>
<span><span class="co">#&gt; [368] "/tmp/Rtmp0tK7Yo/trial_emu/trial_368.csv"</span></span>
<span><span class="co">#&gt; [369] "/tmp/Rtmp0tK7Yo/trial_emu/trial_369.csv"</span></span>
<span><span class="co">#&gt; [370] "/tmp/Rtmp0tK7Yo/trial_emu/trial_370.csv"</span></span>
<span><span class="co">#&gt; [371] "/tmp/Rtmp0tK7Yo/trial_emu/trial_371.csv"</span></span>
<span><span class="co">#&gt; [372] "/tmp/Rtmp0tK7Yo/trial_emu/trial_372.csv"</span></span>
<span><span class="co">#&gt; [373] "/tmp/Rtmp0tK7Yo/trial_emu/trial_373.csv"</span></span>
<span><span class="co">#&gt; [374] "/tmp/Rtmp0tK7Yo/trial_emu/trial_374.csv"</span></span>
<span><span class="co">#&gt; [375] "/tmp/Rtmp0tK7Yo/trial_emu/trial_375.csv"</span></span>
<span><span class="co">#&gt; [376] "/tmp/Rtmp0tK7Yo/trial_emu/trial_376.csv"</span></span>
<span><span class="co">#&gt; [377] "/tmp/Rtmp0tK7Yo/trial_emu/trial_377.csv"</span></span>
<span><span class="co">#&gt; [378] "/tmp/Rtmp0tK7Yo/trial_emu/trial_378.csv"</span></span>
<span><span class="co">#&gt; [379] "/tmp/Rtmp0tK7Yo/trial_emu/trial_379.csv"</span></span>
<span><span class="co">#&gt; [380] "/tmp/Rtmp0tK7Yo/trial_emu/trial_380.csv"</span></span>
<span><span class="co">#&gt; [381] "/tmp/Rtmp0tK7Yo/trial_emu/trial_381.csv"</span></span>
<span><span class="co">#&gt; [382] "/tmp/Rtmp0tK7Yo/trial_emu/trial_382.csv"</span></span>
<span><span class="co">#&gt; [383] "/tmp/Rtmp0tK7Yo/trial_emu/trial_383.csv"</span></span>
<span><span class="co">#&gt; [384] "/tmp/Rtmp0tK7Yo/trial_emu/trial_384.csv"</span></span>
<span><span class="co">#&gt; [385] "/tmp/Rtmp0tK7Yo/trial_emu/trial_385.csv"</span></span>
<span><span class="co">#&gt; [386] "/tmp/Rtmp0tK7Yo/trial_emu/trial_386.csv"</span></span>
<span><span class="co">#&gt; [387] "/tmp/Rtmp0tK7Yo/trial_emu/trial_387.csv"</span></span>
<span><span class="co">#&gt; [388] "/tmp/Rtmp0tK7Yo/trial_emu/trial_388.csv"</span></span>
<span><span class="co">#&gt; [389] "/tmp/Rtmp0tK7Yo/trial_emu/trial_389.csv"</span></span>
<span><span class="co">#&gt; [390] "/tmp/Rtmp0tK7Yo/trial_emu/trial_390.csv"</span></span>
<span><span class="co">#&gt; [391] "/tmp/Rtmp0tK7Yo/trial_emu/trial_391.csv"</span></span>
<span><span class="co">#&gt; [392] "/tmp/Rtmp0tK7Yo/trial_emu/trial_392.csv"</span></span>
<span><span class="co">#&gt; [393] "/tmp/Rtmp0tK7Yo/trial_emu/trial_393.csv"</span></span>
<span><span class="co">#&gt; [394] "/tmp/Rtmp0tK7Yo/trial_emu/trial_394.csv"</span></span>
<span><span class="co">#&gt; [395] "/tmp/Rtmp0tK7Yo/trial_emu/trial_395.csv"</span></span>
<span><span class="co">#&gt; [396] "/tmp/Rtmp0tK7Yo/trial_emu/trial_396.csv"</span></span></code></pre></div>
<p>Each of these csv files contains the data for the trial starting at
period <code>_i</code>. To create a manageable dataset for the final
analysis we can sample from these trials.</p>
<p>Here we sample 10% of the patients without an event at each follow-up
time in each trial. All observations with events are included.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sampled_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/case_control_sampling_trials.html">case_control_sampling_trials</a></span><span class="op">(</span><span class="va">prep_data</span>, p_control <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sampled_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'data.table' and 'data.frame':   100378 obs. of  14 variables:</span></span>
<span><span class="co">#&gt;  $ id                : int  176 476 54 165 165 176 423 31 140 484 ...</span></span>
<span><span class="co">#&gt;  $ for_period        : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ followup_time     : int  1 1 4 5 6 7 8 9 11 12 ...</span></span>
<span><span class="co">#&gt;  $ outcome           : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ weight            : num  1 1 0.998 0.998 0.997 ...</span></span>
<span><span class="co">#&gt;  $ treatment         : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ catvarA           : Factor w/ 5 levels "0","1","2","3",..: 5 5 5 5 5 5 5 5 5 5 ...</span></span>
<span><span class="co">#&gt;  $ catvarB           : Factor w/ 5 levels "0","1","2","3",..: 5 5 5 5 5 5 5 5 5 5 ...</span></span>
<span><span class="co">#&gt;  $ catvarC           : Factor w/ 4 levels "0","1","2","7": 4 4 4 4 4 4 4 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ nvarA             : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ nvarB             : int  0 0 0 0 0 0 0 0 0 1 ...</span></span>
<span><span class="co">#&gt;  $ nvarC             : int  45 49 49 70 70 45 56 40 46 55 ...</span></span>
<span><span class="co">#&gt;  $ assigned_treatment: int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ sample_weight     : num  10 10 10 10 10 10 10 10 10 10 ...</span></span>
<span><span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span></code></pre></div>
<p>Before proceeding with the modelling, it is possible to manipulate
and derive new variables and adjust factor levels in the
<code>data.frame</code>. You can also specify transformations in a
formula to <code>outcome_cov</code>,
<code>include_followup_time_case</code> or
<code>include_expansion_time_case</code>, such as
<code>~ ns(for_period)</code> or
<code>~ I(nvarA^2) + nvarC &gt; 50 + catvarA:nvarC</code>.</p>
<p>It is also possible to specify formulas in
<code>data_modelling</code> to include, for example, splines with
<code>ns()</code>.</p>
<p>Now we can fit the model with the <code><a href="../reference/data_modelling.html">data_modelling()</a></code>
function. Since we have sampled from the data, we should make use of the
<code>use_sample_weights</code> option to get correct survival
estimates.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data_modelling.html">data_modelling</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sampled_data</span>,</span>
<span>  outcome_cov <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catvarA"</span>, <span class="st">"catvarB"</span>, <span class="st">"catvarC"</span>, <span class="st">"nvarA"</span>, <span class="st">"nvarB"</span>, <span class="st">"nvarC"</span><span class="op">)</span>,</span>
<span>  model_var <span class="op">=</span> <span class="st">"assigned_treatment"</span>,</span>
<span>  use_weight <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_censor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  glm_function <span class="op">=</span> <span class="st">"glm"</span>,</span>
<span>  use_sample_weights <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Preparing for model fitting</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Fitting outcome model</span></span>
<span><span class="co">#&gt; Warning in eval(family$initialize): non-integer #successes in a binomial glm!</span></span>
<span><span class="co">#&gt; Processing time of fitting outcome model: 0.9 s</span></span>
<span><span class="co">#&gt; summary(model)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data, weights = data[["weight"]])</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -1.5152  -0.3278  -0.2512  -0.1740   9.8783  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                      Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)        -1.978e+00  2.327e-01  -8.500  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; assigned_treatment -4.791e-01  5.382e-02  -8.902  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; for_period         -3.927e-03  8.927e-04  -4.399 1.09e-05 ***</span></span>
<span><span class="co">#&gt; I(for_period^2)     1.347e-05  1.954e-06   6.891 5.54e-12 ***</span></span>
<span><span class="co">#&gt; followup_time       4.510e-03  1.154e-03   3.908 9.29e-05 ***</span></span>
<span><span class="co">#&gt; I(followup_time^2) -2.340e-05  8.077e-06  -2.897  0.00377 ** </span></span>
<span><span class="co">#&gt; catvarA1            3.541e-01  4.030e-02   8.788  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarA2            4.178e-01  5.418e-02   7.711 1.25e-14 ***</span></span>
<span><span class="co">#&gt; catvarA3           -1.112e+01  8.187e+01  -0.136  0.89200    </span></span>
<span><span class="co">#&gt; catvarA7            4.657e-01  6.991e-02   6.661 2.72e-11 ***</span></span>
<span><span class="co">#&gt; catvarB1           -3.766e-01  1.856e-01  -2.029  0.04243 *  </span></span>
<span><span class="co">#&gt; catvarB2           -1.416e-01  1.889e-01  -0.750  0.45347    </span></span>
<span><span class="co">#&gt; catvarB3           -2.367e+00  3.666e-01  -6.458 1.06e-10 ***</span></span>
<span><span class="co">#&gt; catvarB7           -8.034e-01  1.880e-01  -4.274 1.92e-05 ***</span></span>
<span><span class="co">#&gt; catvarC1           -7.768e-02  4.845e-02  -1.603  0.10885    </span></span>
<span><span class="co">#&gt; catvarC2           -1.067e-01  4.586e-02  -2.326  0.02001 *  </span></span>
<span><span class="co">#&gt; catvarC7           -4.373e-01  6.252e-02  -6.994 2.67e-12 ***</span></span>
<span><span class="co">#&gt; nvarA              -1.364e-02  8.660e-03  -1.575  0.11516    </span></span>
<span><span class="co">#&gt; nvarB               3.235e-03  3.968e-04   8.152 3.57e-16 ***</span></span>
<span><span class="co">#&gt; nvarC              -5.247e-02  1.254e-03 -41.828  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 53548  on 100377  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 50956  on 100358  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 50895</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 14</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Calculating robust variance</span></span>
<span><span class="co">#&gt; Processing time of calculating robust variance: 0.1 s</span></span>
<span><span class="co">#&gt; Summary with robust standard error:</span></span>
<span><span class="co">#&gt;                 names  estimate robust_se      2.5%     97.5%       z  p_value</span></span>
<span><span class="co">#&gt; 1         (Intercept) -1.98e+00  1.04e+00 -4.02e+00  6.96e-02  -1.893 5.83e-02</span></span>
<span><span class="co">#&gt; 2  assigned_treatment -4.79e-01  4.19e-01 -1.30e+00  3.42e-01  -1.144 2.53e-01</span></span>
<span><span class="co">#&gt; 3          for_period -3.93e-03  5.09e-03 -1.39e-02  6.05e-03  -0.771 4.41e-01</span></span>
<span><span class="co">#&gt; 4     I(for_period^2)  1.35e-05  1.11e-05 -8.38e-06  3.53e-05   1.208 2.27e-01</span></span>
<span><span class="co">#&gt; 5       followup_time  4.51e-03  6.17e-03 -7.57e-03  1.66e-02   0.731 4.64e-01</span></span>
<span><span class="co">#&gt; 6  I(followup_time^2) -2.34e-05  5.63e-05 -1.34e-04  8.70e-05  -0.415 6.78e-01</span></span>
<span><span class="co">#&gt; 7            catvarA1  3.54e-01  2.75e-01 -1.84e-01  8.93e-01   1.289 1.97e-01</span></span>
<span><span class="co">#&gt; 8            catvarA2  4.18e-01  3.61e-01 -2.89e-01  1.13e+00   1.158 2.47e-01</span></span>
<span><span class="co">#&gt; 9            catvarA3 -1.11e+01  7.86e-01 -1.27e+01 -9.58e+00 -14.140 0.00e+00</span></span>
<span><span class="co">#&gt; 10           catvarA7  4.66e-01  3.78e-01 -2.75e-01  1.21e+00   1.232 2.18e-01</span></span>
<span><span class="co">#&gt; 11           catvarB1 -3.77e-01  6.39e-01 -1.63e+00  8.76e-01  -0.589 5.56e-01</span></span>
<span><span class="co">#&gt; 12           catvarB2 -1.42e-01  6.80e-01 -1.48e+00  1.19e+00  -0.208 8.35e-01</span></span>
<span><span class="co">#&gt; 13           catvarB3 -2.37e+00  1.10e+00 -4.52e+00 -2.16e-01  -2.157 3.10e-02</span></span>
<span><span class="co">#&gt; 14           catvarB7 -8.03e-01  6.63e-01 -2.10e+00  4.96e-01  -1.212 2.26e-01</span></span>
<span><span class="co">#&gt; 15           catvarC1 -7.77e-02  2.29e-01 -5.27e-01  3.72e-01  -0.338 7.35e-01</span></span>
<span><span class="co">#&gt; 16           catvarC2 -1.07e-01  2.84e-01 -6.64e-01  4.51e-01  -0.375 7.08e-01</span></span>
<span><span class="co">#&gt; 17           catvarC7 -4.37e-01  3.43e-01 -1.11e+00  2.36e-01  -1.273 2.03e-01</span></span>
<span><span class="co">#&gt; 18              nvarA -1.36e-02  5.32e-02 -1.18e-01  9.07e-02  -0.256 7.98e-01</span></span>
<span><span class="co">#&gt; 19              nvarB  3.24e-03  2.57e-03 -1.80e-03  8.27e-03   1.260 2.08e-01</span></span>
<span><span class="co">#&gt; 20              nvarC -5.25e-02  9.08e-03 -7.03e-02 -3.47e-02  -5.777 7.59e-09</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span></code></pre></div>
<p>The result is the same type as the previous result from the simple
<code>initiators</code> function, containing the <code>glm</code> object
and the sandwich results.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_result</span><span class="op">)</span></span>
<span><span class="co">#&gt; Trial Emulation Outcome Model</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Outcome model formula:</span></span>
<span><span class="co">#&gt; outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficent summary (robust):</span></span>
<span><span class="co">#&gt;               names   estimate robust_se       2.5%      97.5%        z</span></span>
<span><span class="co">#&gt;         (Intercept) -1.978e+00 1.044e+00 -4.025e+00  6.958e-02  -1.8934</span></span>
<span><span class="co">#&gt;  assigned_treatment -4.791e-01 4.189e-01 -1.300e+00  3.419e-01  -1.1438</span></span>
<span><span class="co">#&gt;          for_period -3.927e-03 5.091e-03 -1.391e-02  6.053e-03  -0.7712</span></span>
<span><span class="co">#&gt;     I(for_period^2)  1.347e-05 1.115e-05 -8.379e-06  3.531e-05   1.2083</span></span>
<span><span class="co">#&gt;       followup_time  4.510e-03 6.166e-03 -7.575e-03  1.660e-02   0.7315</span></span>
<span><span class="co">#&gt;  I(followup_time^2) -2.340e-05 5.633e-05 -1.338e-04  8.702e-05  -0.4154</span></span>
<span><span class="co">#&gt;            catvarA1  3.541e-01 2.748e-01 -1.844e-01  8.927e-01   1.2889</span></span>
<span><span class="co">#&gt;            catvarA2  4.178e-01 3.608e-01 -2.894e-01  1.125e+00   1.1579</span></span>
<span><span class="co">#&gt;            catvarA3 -1.112e+01 7.861e-01 -1.266e+01 -9.575e+00 -14.1401</span></span>
<span><span class="co">#&gt;            catvarA7  4.657e-01 3.779e-01 -2.751e-01  1.206e+00   1.2321</span></span>
<span><span class="co">#&gt;            catvarB1 -3.766e-01 6.392e-01 -1.629e+00  8.762e-01  -0.5892</span></span>
<span><span class="co">#&gt;            catvarB2 -1.416e-01 6.804e-01 -1.475e+00  1.192e+00  -0.2082</span></span>
<span><span class="co">#&gt;            catvarB3 -2.367e+00 1.098e+00 -4.519e+00 -2.159e-01  -2.1567</span></span>
<span><span class="co">#&gt;            catvarB7 -8.034e-01 6.629e-01 -2.103e+00  4.959e-01  -1.2119</span></span>
<span><span class="co">#&gt;            catvarC1 -7.768e-02 2.295e-01 -5.275e-01  3.721e-01  -0.3385</span></span>
<span><span class="co">#&gt;            catvarC2 -1.067e-01 2.844e-01 -6.641e-01  4.507e-01  -0.3751</span></span>
<span><span class="co">#&gt;            catvarC7 -4.373e-01 3.434e-01 -1.110e+00  2.357e-01  -1.2734</span></span>
<span><span class="co">#&gt;               nvarA -1.364e-02 5.324e-02 -1.180e-01  9.071e-02  -0.2562</span></span>
<span><span class="co">#&gt;               nvarB  3.235e-03 2.568e-03 -1.797e-03  8.268e-03   1.2600</span></span>
<span><span class="co">#&gt;               nvarC -5.247e-02 9.082e-03 -7.027e-02 -3.467e-02  -5.7773</span></span>
<span><span class="co">#&gt;    p_value</span></span>
<span><span class="co">#&gt;    0.05831</span></span>
<span><span class="co">#&gt;    0.25271</span></span>
<span><span class="co">#&gt;    0.44058</span></span>
<span><span class="co">#&gt;    0.22693</span></span>
<span><span class="co">#&gt;    0.46447</span></span>
<span><span class="co">#&gt;    0.67788</span></span>
<span><span class="co">#&gt;    0.19743</span></span>
<span><span class="co">#&gt;    0.24692</span></span>
<span><span class="co">#&gt;  &lt; 2.2e-16</span></span>
<span><span class="co">#&gt;    0.21790</span></span>
<span><span class="co">#&gt;    0.55573</span></span>
<span><span class="co">#&gt;    0.83509</span></span>
<span><span class="co">#&gt;    0.03103</span></span>
<span><span class="co">#&gt;    0.22555</span></span>
<span><span class="co">#&gt;    0.73499</span></span>
<span><span class="co">#&gt;    0.70759</span></span>
<span><span class="co">#&gt;    0.20286</span></span>
<span><span class="co">#&gt;    0.79777</span></span>
<span><span class="co">#&gt;    0.20766</span></span>
<span><span class="co">#&gt;  7.589e-09</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; model_result$model contains the fitted glm model object.</span></span>
<span><span class="co">#&gt; model_result$robust$matrix contains the full robust covariance matrix.</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_result</span><span class="op">$</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; glm(formula = outcome ~ assigned_treatment + for_period + I(for_period^2) + </span></span>
<span><span class="co">#&gt;     followup_time + I(followup_time^2) + catvarA + catvarB + </span></span>
<span><span class="co">#&gt;     catvarC + nvarA + nvarB + nvarC, family = binomial(link = "logit"), </span></span>
<span><span class="co">#&gt;     data = data, weights = data[["weight"]])</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Residuals: </span></span>
<span><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span><span class="co">#&gt; -1.5152  -0.3278  -0.2512  -0.1740   9.8783  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                      Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; (Intercept)        -1.978e+00  2.327e-01  -8.500  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; assigned_treatment -4.791e-01  5.382e-02  -8.902  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; for_period         -3.927e-03  8.927e-04  -4.399 1.09e-05 ***</span></span>
<span><span class="co">#&gt; I(for_period^2)     1.347e-05  1.954e-06   6.891 5.54e-12 ***</span></span>
<span><span class="co">#&gt; followup_time       4.510e-03  1.154e-03   3.908 9.29e-05 ***</span></span>
<span><span class="co">#&gt; I(followup_time^2) -2.340e-05  8.077e-06  -2.897  0.00377 ** </span></span>
<span><span class="co">#&gt; catvarA1            3.541e-01  4.030e-02   8.788  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; catvarA2            4.178e-01  5.418e-02   7.711 1.25e-14 ***</span></span>
<span><span class="co">#&gt; catvarA3           -1.112e+01  8.187e+01  -0.136  0.89200    </span></span>
<span><span class="co">#&gt; catvarA7            4.657e-01  6.991e-02   6.661 2.72e-11 ***</span></span>
<span><span class="co">#&gt; catvarB1           -3.766e-01  1.856e-01  -2.029  0.04243 *  </span></span>
<span><span class="co">#&gt; catvarB2           -1.416e-01  1.889e-01  -0.750  0.45347    </span></span>
<span><span class="co">#&gt; catvarB3           -2.367e+00  3.666e-01  -6.458 1.06e-10 ***</span></span>
<span><span class="co">#&gt; catvarB7           -8.034e-01  1.880e-01  -4.274 1.92e-05 ***</span></span>
<span><span class="co">#&gt; catvarC1           -7.768e-02  4.845e-02  -1.603  0.10885    </span></span>
<span><span class="co">#&gt; catvarC2           -1.067e-01  4.586e-02  -2.326  0.02001 *  </span></span>
<span><span class="co">#&gt; catvarC7           -4.373e-01  6.252e-02  -6.994 2.67e-12 ***</span></span>
<span><span class="co">#&gt; nvarA              -1.364e-02  8.660e-03  -1.575  0.11516    </span></span>
<span><span class="co">#&gt; nvarB               3.235e-03  3.968e-04   8.152 3.57e-16 ***</span></span>
<span><span class="co">#&gt; nvarC              -5.247e-02  1.254e-03 -41.828  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 53548  on 100377  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 50956  on 100358  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 50895</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 14</span></span></code></pre></div>
<p>We can also use this object to predict cumulative incidence curves
and use these for treatment comparisons. Here we use the patients who
were in the first trial as the target population. To get the data in the
right format, we can use the <code>data_template</code> returned by
<code><a href="../reference/data_preparation.html">data_preparation()</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">working_dir</span>, <span class="st">"trial_1.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">prep_data</span><span class="op">$</span><span class="va">data_template</span><span class="op">)</span>, <span class="va">new_data</span><span class="op">)</span></span>
<span><span class="va">model_preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model_result</span>, predict_times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">40</span><span class="op">)</span>, newdata <span class="op">=</span> <span class="va">new_data</span>, type <span class="op">=</span> <span class="st">"cum_inc"</span><span class="op">)</span></span></code></pre></div>
<p>The <code>predict</code> function returns a list of 3 data frames:
predictions for assigned treatment 0, for assigned treatment 1 and for
the difference. It possible to change the type of predicted values,
either cumulative incidence or survival.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">followup_time</span>,</span>
<span>  <span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">cum_inc_diff</span>,</span>
<span>  ty <span class="op">=</span> <span class="st">"l"</span>, ylab <span class="op">=</span> <span class="st">"Cumulative Incidence Difference"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Follow-up Time"</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.15</span>, <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">followup_time</span>, <span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">`2.5%`</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">followup_time</span>, <span class="va">model_preds</span><span class="op">$</span><span class="va">difference</span><span class="op">$</span><span class="va">`97.5%`</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="Getting-Started_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Roonak Rezvani, Isaac Gravestock, Li Su.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
